!function(t){function e(e){for(var r,c,i=e[0],u=e[1],s=e[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={3:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;a.push([50,1,0]),n()}({10:function(t,e,n){"use strict";var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function i(t){a(c,r,o,i,u,"next",t)}function u(t){a(c,r,o,i,u,"throw",t)}i(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function f(t,e,n){return(f=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,o,a,l,f,v,y=(e=m,n=p(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return s(this,t)});function m(){return i(this,m),y.apply(this,arguments)}return o=m,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),e=new URLSearchParams(window.location.search),n=e.get("code"),t.next=5,this.loadScorer(n);case 5:r=t.sent,this._list=r?r.slice(0,5):r,this._list?this.render():this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the scorers. Please try again in a minute</h5>\n        </div>\n        ';case 8:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container center-column">\n            <h5>Competition Scorers</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"loadScorer",value:(f=c(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(r.b)(e.toUpperCase());case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return f.apply(this,arguments)})},{key:"cardItem",value:function(t){var e=t.player,n=t.team,r=t.numberOfGoals;return'\n        <li class="scorer">\n            <div class="collapsible-header scorer-header">'.concat(e.name,'</div>\n            <div class="collapsible-body scorer-body"><span>').concat(r," Goals for ").concat(n.name,"</span></div>\n        </li>\n        ")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <ul class="collapsible">\n                '.concat(this._list&&this._list.reduce((function(e,n){return e+t.cardItem(n)}),""),"\n            </ul>\n        </div>\n        ");var e=document.querySelectorAll(".collapsible");M.Collapsible.init(e);var n=document.querySelectorAll(".scorer"),r=document.querySelectorAll(".scorer-body");n[0].classList.toggle("active"),r[0].style.display="block"}}])&&u(o.prototype,a),l&&u(o,l),m}(l(HTMLElement));customElements.define("scorer-elem",v)},11:function(t,e,n){"use strict";n(5);var r=n(3),o=n.p+"src/assets/images/crest.png",a=n(4);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,u,"next",t)}function u(t){i(a,r,o,c,u,"throw",t)}c(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function h(t,e,n){return(h=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&v(o,n.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(g,t);var e,n,c,i,p,h,m,b=(e=g,n=d(),function(){var t,r=y(e);if(n){var o=y(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return f(this,t)});function g(){return s(this,g),b.apply(this,arguments)}return c=g,(i=[{key:"connectedCallback",value:(m=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),t.next=3,this.getTeams();case 3:this._list=t.sent,this._list&&0!==this._list.length?this.render():(e="keeper"===window.location.hash.slice(1),this.innerHTML=e?'\n                <div class="comp-container">\n                    <h5>Teams</h5>\n                    <h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no team saved yet!</h5>\n                </div>\n                ':'\n                <div class="comp-container">\n                    <h5>Competitions</h5>\n                    <div class="carousel">\n                        <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the teams. Please try again in a minute</h5>\n                    </div>\n                </div>\n                ');case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getTeams",value:(h=u(regeneratorRuntime.mark((function t(){var e,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.location.hash.slice(1)){t.next=16;break}return e=new URLSearchParams(window.location.search),n=e.get("code"),t.prev=4,t.next=7,Object(r.d)(n.toUpperCase());case 7:return o=t.sent,t.abrupt("return",o);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",null);case 14:t.next=26;break;case 16:return t.prev=16,t.next=19,Object(a.d)();case 19:return c=t.sent,t.abrupt("return",c);case 23:return t.prev=23,t.t1=t.catch(16),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,null,[[4,11],[16,23]])}))),function(){return h.apply(this,arguments)})},{key:"carouselItem",value:function(t){return"keeper"===window.location.hash.slice(1)?localStorage.setItem("is-from-keeper",!0):localStorage.setItem("is-from-keeper",!1),'\n        <a class="carousel-item team" href="./team-detail.html?id='.concat(t.id,'">\n            <img class="responsive-img" src="').concat(t.crestUrl,'">\n            <p class="team-name">').concat(t.shortName,"</p>\n        </a>")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                '.concat(this._list&&this._list.reduce((function(e,n){return e+t.carouselItem(n)}),""),"\n            </div>\n        </div>\n        "),document.querySelectorAll("img.responsive-img").forEach((function(t){t.addEventListener("error",(function(){t.setAttribute("src",o)}))}));var e=document.querySelectorAll(".carousel");M.Carousel.init(e)}}])&&l(c.prototype,i),p&&l(c,p),g}(p(HTMLElement));customElements.define("team-elem",m)},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f}));var r=n(0),o=n.n(r),a=n(1);function c(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)}))}}var u=function(){var t=i(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[2002,2003,2014,2015,2021],t.prev=1,n=Promise.all(e.map(function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=27;break}return t.next=3,caches.match("https://api.football-data.org/v2/competitions/"+e);case 3:if(!(n=t.sent)){t.next=11;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r);case 11:return t.prev=11,t.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(e),a.a);case 14:if(200!==(c=t.sent).status){t.next=19;break}return t.abrupt("return",c.data);case 19:return t.abrupt("return",null);case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(11),t.abrupt("return",null);case 25:t.next=28;break;case 27:console.log("Cache isn't supported in this browser.");case 28:case"end":return t.stop()}}),t,null,[[11,22]])})));return function(e){return t.apply(this,arguments)}}())),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=23;break}return t.next=3,caches.match("https://api.football-data.org/v2/competitions/"+e+"/teams");case 3:if(!(n=t.sent)){t.next=11;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r.teams);case 11:return t.prev=11,t.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/teams"),a.a);case 14:return c=t.sent,t.abrupt("return",c.data.teams);case 18:return t.prev=18,t.t0=t.catch(11),t.abrupt("return",null);case 21:t.next=24;break;case 23:console.log("Cache isn't supported in this browser.");case 24:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=21;break}return t.prev=1,t.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/scorers"),a.a);case 4:return n=t.sent,t.abrupt("return",n.data.scorers);case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,caches.match("https://api.football-data.org/v2/competitions/"+e+"/scorers");case 12:if(!(r=t.sent)){t.next=18;break}return t.next=16,r.json();case 16:return c=t.sent,t.abrupt("return",c.scorers);case 18:return t.abrupt("return",null);case 19:t.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=21;break}return t.prev=1,t.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/standings"),a.a);case 4:return n=t.sent,t.abrupt("return",n.data.standings[0].table);case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,caches.match("https://api.football-data.org/v2/competitions/"+e+"/standings");case 12:if(!(r=t.sent)){t.next=18;break}return t.next=16,r.json();case 16:return c=t.sent,t.abrupt("return",c.standings[0].table);case 18:return t.abrupt("return",null);case 19:t.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},50:function(t,e,n){"use strict";n.r(e);n(7),n(8),n(9),n(10);var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function i(t){a(c,r,o,i,u,"next",t)}function u(t){a(c,r,o,i,u,"throw",t)}i(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function f(t,e,n){return(f=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,o,a,l,f,v,y=(e=m,n=p(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return s(this,t)});function m(){return i(this,m),y.apply(this,arguments)}return o=m,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),t.next=3,this.getStandings();case 3:this._list=t.sent,this._list?this.render():this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the standings. Please try again in a minute</h5>\n        </div>\n        ';case 5:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"getStandings",value:(f=c(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new URLSearchParams(window.location.search),n=e.get("code"),t.prev=2,t.next=5,Object(r.c)(n.toUpperCase());case 5:return o=t.sent,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(){return f.apply(this,arguments)})},{key:"loadRow",value:function(t){return"\n        <tr>\n            <td>".concat(t.team.name,"</td>\n            <td>").concat(t.won,"</td>\n            <td>").concat(t.draw,"</td>\n            <td>").concat(t.lost,"</td>\n            <td>").concat(t.points,"</td>\n        </tr>\n        ")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <table class="responsive-table striped">\n                <thead>\n                    <tr>\n                        <th>Teams</th>\n                        <th>Won</th>\n                        <th>Draw</th>\n                        <th>Lost</th>\n                        <th>Points</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    '.concat(this._list&&this._list.reduce((function(e,n){return e+t.loadRow(n)}),""),"\n                </tbody>\n            </table>\n        </div>\n        ")}}])&&u(o.prototype,a),l&&u(o,l),m}(l(HTMLElement));customElements.define("standing-elem",v);n(11),n(5);var y=n(0),m=n.n(y);function b(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){b(a,r,o,c,i,"next",t)}function i(t){b(a,r,o,c,i,"throw",t)}c(void 0)}))}}var w={content:""},x=function(){var t=g(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=g(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/dist/src/pages/detail.html",t.prev=1,t.next=4,m.a.get("/dist/src/pages/detail.html");case 4:200===(n=t.sent).status?(w.content=n.data,r=document.querySelector("#main-content"),history.pushState(w,null,"competition-detail.html?code=".concat(e)),window.onpopstate=function(t){t.state&&(w=t.state,r.innerHTML=w.content)},r.innerHTML=w.content):console.error("Something went wrong on load content!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Something went wrong on load content! ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),n=new URLSearchParams(window.location.search),""!==(r=n.get("code"))&&null!==r||(r="bl1"),localStorage.setItem("code",r),t.next=7,e(r);case 7:(o=document.querySelector(".sidenav-back"))&&o.addEventListener("click",(function(){window.location.pathname.match("competition-detail.html")&&(history.replaceState(w,null,"index.html#home"),window.location.reload())}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/service-worker.js").then((function(){console.log("Service Worker successfully registered"),x()})).catch((function(){console.log("Failed to register Service Worker")})):console.log("Service Worker isn't supported in this browser.")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9zY29yZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvdGVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3N0YW5kaW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3L21haW4tZGV0YWlsLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMyIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiU2NvcmVyRWxlbSIsInRoaXMiLCJsb2FkaW5nIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJjb2RlIiwibG9hZFNjb3JlciIsInNjb3JlcnMiLCJfbGlzdCIsInJlbmRlciIsImlubmVySFRNTCIsImdldENvbXBldGl0aW9uU2NvcmVycyIsInRvVXBwZXJDYXNlIiwicmVzIiwic2NvcmVyIiwicGxheWVyIiwidGVhbSIsIm51bWJlck9mR29hbHMiLCJyZWR1Y2UiLCJodG1sIiwiY2FyZEl0ZW0iLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIk0iLCJDb2xsYXBzaWJsZSIsImluaXQiLCJib2R5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3R5bGUiLCJkaXNwbGF5IiwiSFRNTEVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIlRlYW1FbGVtIiwiZ2V0VGVhbXMiLCJpc0Zyb21TYXZlZCIsImhhc2giLCJnZXRUZWFtc0luQUNvbXBldGl0aW9uIiwidGVhbXMiLCJnZXRBbGxUZWFtcyIsInNhdmVkIiwiaXRlbSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJpZCIsImNyZXN0VXJsIiwic2hvcnROYW1lIiwiY2Fyb3VzZWxJdGVtIiwiZm9yRWFjaCIsImVsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwiY3Jlc3QiLCJDYXJvdXNlbCIsImdldEFsbENvbXBldGl0aW9ucyIsImNvbXBfaWQiLCJyZXNfbGlzdCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJjYWNoZXMiLCJtYXRjaCIsImpzb24iLCJheGlvcyIsImNvbmZpZyIsInJlc3BvbnNlIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsImdldENvbXBldGl0aW9uU3RhbmRpbmdzIiwic3RhbmRpbmdzIiwidGFibGUiLCJTdGFuZGluZ0VsZW0iLCJnZXRTdGFuZGluZ3MiLCJzdGFuZGluZyIsIndvbiIsImRyYXciLCJsb3N0IiwicG9pbnRzIiwibG9hZFJvdyIsInN0YXRlIiwiY29udGVudCIsImRldGFpbCIsImxvYWRDb250ZW50IiwiX21haW4iLCJxdWVyeVNlbGVjdG9yIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIm9ucG9wc3RhdGUiLCJlIiwiZXJyb3IiLCJiYWNrIiwicGF0aG5hbWUiLCJyZXBsYWNlU3RhdGUiLCJyZWxvYWQiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQs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aENHLEVBQU01RSxVQUFZd0UsRUFBTUMsU0FHeEJkLFFBQVF1QixNQUFNLHlDQTFCTixnREE2Qlp2QixRQUFRdUIsTUFBUix1REE3QlkseURBRlQsc0RBbUNMM0YsRUFBUyxJQUFJQyxnQkFBZ0JQLE9BQU9RLFNBQVNDLFFBR3RDLE1BRlRDLEVBQU9KLEVBQU92QixJQUFJLFVBRU0sT0FBVDJCLElBQWVBLEVBQU8sT0FFekN1QyxhQUFhQyxRQUFRLE9BQVF4QyxHQXhDbEIsU0EwQ0xnRixFQUFZaEYsR0ExQ1AsUUE0Q0x3RixFQUFPdkUsU0FBU2lFLGNBQWMsbUJBQzFCTSxFQUFLekMsaUJBQWlCLFNBQVMsV0FDakN6RCxPQUFPUSxTQUFTMkYsU0FBUy9CLE1BQU0sNkJBQy9CeUIsUUFBUU8sYUFBYWIsRUFBTyxLQUE1QixtQkFDQXZGLE9BQU9RLFNBQVM2RixhQWhEYiwyQ0FBSCxxREFzRFoxRSxTQUFTOEIsaUJBQWlCLG9CQUFvQixXQUN0QyxrQkFBbUI2QyxVQUVmQSxVQUFVQyxjQUNMQyxTQUFTLHNCQUNUQyxNQUFLLFdBQ0YvQixRQUFRQyxJQUFJLDBDQUNaYyxPQUpSLE9BTVcsV0FDSGYsUUFBUUMsSUFBSSx3Q0FleEJELFFBQVFDLElBQUkiLCJmaWxlIjoiZGV0YWlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQzOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs1MCwxLDBdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0IHsgZ2V0Q29tcGV0aXRpb25TY29yZXJzIH0gZnJvbSAnLi4vc2VydmljZXMvY29tcGV0aXRpb24uanMnXG5cbmNsYXNzIFNjb3JlckVsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgY29uc3QgY29kZSA9IHBhcmFtcy5nZXQoJ2NvZGUnKVxuICAgICAgICBjb25zdCBzY29yZXJzID0gYXdhaXQgdGhpcy5sb2FkU2NvcmVyKGNvZGUpXG4gICAgICAgIHRoaXMuX2xpc3QgPSBzY29yZXJzID8gc2NvcmVycy5zbGljZSgwLCA1KSA6IHNjb3JlcnNcblxuICAgICAgICBpZiAodGhpcy5fbGlzdCkgdGhpcy5yZW5kZXIoKVxuICAgICAgICBlbHNlIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNlbnRlci1jb2x1bW5cIj5cbiAgICAgICAgICAgIDxoNT5TY29yZXJzPC9oNT5cbiAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IHRoZSBzY29yZXJzLiBQbGVhc2UgdHJ5IGFnYWluIGluIGEgbWludXRlPC9oNT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBsb2FkaW5nKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXItY29sdW1uXCI+XG4gICAgICAgICAgICA8aDU+Q29tcGV0aXRpb24gU2NvcmVyczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGxvYWRTY29yZXIoY29kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0Q29tcGV0aXRpb25TY29yZXJzKGNvZGUudG9VcHBlckNhc2UoKSlcbiAgICAgICAgICAgIHJldHVybiByZXNcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhcmRJdGVtKHNjb3Jlcikge1xuICAgICAgICBjb25zdCB7IHBsYXllciwgdGVhbSwgbnVtYmVyT2ZHb2FscyB9ID0gc2NvcmVyXG5cbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGxpIGNsYXNzPVwic2NvcmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2libGUtaGVhZGVyIHNjb3Jlci1oZWFkZXJcIj4ke3BsYXllci5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNpYmxlLWJvZHkgc2NvcmVyLWJvZHlcIj48c3Bhbj4ke251bWJlck9mR29hbHN9IEdvYWxzIGZvciAke3RlYW0ubmFtZX08L3NwYW4+PC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNlbnRlci1jb2x1bW5cIj5cbiAgICAgICAgICAgIDxoNT5TY29yZXJzPC9oNT5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImNvbGxhcHNpYmxlXCI+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QucmVkdWNlKChodG1sLCBzY29yZXIpID0+IGh0bWwgKyB0aGlzLmNhcmRJdGVtKHNjb3JlciksICcnKX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG5cbiAgICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGFwc2libGUnKTtcbiAgICAgICAgTS5Db2xsYXBzaWJsZS5pbml0KGVsZW1zKTtcblxuICAgICAgICBjb25zdCBzY29yZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjb3JlcicpXG4gICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2NvcmVyLWJvZHknKVxuXG4gICAgICAgIHNjb3JlcnNbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgYm9keVswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzY29yZXItZWxlbScsIFNjb3JlckVsZW0pIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInNyYy9hc3NldHMvaW1hZ2VzL2NyZXN0LnBuZ1wiOyIsImltcG9ydCAnLi4vdmlldy9tYXRlcmlhbGl6ZS5taW4uanMnXG5pbXBvcnQgeyBnZXRUZWFtc0luQUNvbXBldGl0aW9uIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NvbXBldGl0aW9uLmpzXCJcbmltcG9ydCBjcmVzdCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2NyZXN0LnBuZydcbmltcG9ydCB7IGdldEFsbFRlYW1zIH0gZnJvbSAnLi4vc2VydmljZXMvZGF0YWJhc2UuanMnXG5cbmNsYXNzIFRlYW1FbGVtIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMubG9hZGluZygpXG4gICAgICAgIHRoaXMuX2xpc3QgPSBhd2FpdCB0aGlzLmdldFRlYW1zKClcblxuICAgICAgICBpZiAodGhpcy5fbGlzdCAmJiB0aGlzLl9saXN0Lmxlbmd0aCAhPT0gMCkgdGhpcy5yZW5kZXIoKVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGlzRnJvbVNhdmVkID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkgPT09IFwia2VlcGVyXCIgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGlzRnJvbVNhdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNT5UZWFtczwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPlRoZXJlJ3Mgbm8gdGVhbSBzYXZlZCB5ZXQhPC9oNT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDU+Q29tcGV0aXRpb25zPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5Pb3BzLi4gY2Fubm90IGdldCB0aGUgdGVhbXMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkaW5nKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aDU+VGVhbXM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PGRpdiBjbGFzcz1cImluZGV0ZXJtaW5hdGVcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGdldFRlYW1zKCkge1xuICAgICAgICBsZXQgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFwYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhcmFtcy5nZXQoJ2NvZGUnKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZWFtcyA9IGF3YWl0IGdldFRlYW1zSW5BQ29tcGV0aXRpb24oY29kZS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0ZWFtc1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHNhdmVkID0gYXdhaXQgZ2V0QWxsVGVhbXMoKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZFxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY2Fyb3VzZWxJdGVtKGl0ZW0pIHtcbiAgICAgICAgbGV0IHBhZ2UgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTtcbiAgICAgICAgaWYgKHBhZ2UgPT09IFwia2VlcGVyXCIpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpcy1mcm9tLWtlZXBlcicsIHRydWUpXG4gICAgICAgIGVsc2UgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzLWZyb20ta2VlcGVyJywgZmFsc2UpXG5cbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGEgY2xhc3M9XCJjYXJvdXNlbC1pdGVtIHRlYW1cIiBocmVmPVwiLi90ZWFtLWRldGFpbC5odG1sP2lkPSR7aXRlbS5pZH1cIj5cbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJyZXNwb25zaXZlLWltZ1wiIHNyYz1cIiR7aXRlbS5jcmVzdFVybH1cIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGVhbS1uYW1lXCI+JHtpdGVtLnNob3J0TmFtZX08L3A+XG4gICAgICAgIDwvYT5gXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aDU+VGVhbXM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QucmVkdWNlKChodG1sLCBpdGVtKSA9PiBodG1sICsgdGhpcy5jYXJvdXNlbEl0ZW0oaXRlbSksICcnKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuXG4gICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZy5yZXNwb25zaXZlLWltZycpO1xuXG4gICAgICAgIGltZy5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3JjJywgY3Jlc3QpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuXG4gICAgICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsJyk7XG4gICAgICAgIE0uQ2Fyb3VzZWwuaW5pdChlbGVtcyk7XG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3RlYW0tZWxlbScsIFRlYW1FbGVtKSIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcuanMnXG5cbmV4cG9ydCBjb25zdCBnZXRBbGxDb21wZXRpdGlvbnMgPSBhc3luYyAoKSA9PiB7XG5cbiAgICBjb25zdCBjb21wX2lkID0gWzIwMDIsIDIwMDMsIDIwMTQsIDIwMTUsIDIwMjFdXG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNfbGlzdCA9IFByb21pc2UuYWxsKGNvbXBfaWQubWFwKGFzeW5jIChpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKFwiY2FjaGVzXCIgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGlkKVxuICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL2NvbXBldGl0aW9ucy8ke2lkfWAsIGNvbmZpZylcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuXG4gICAgICAgIHJldHVybiByZXNfbGlzdFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZXJyXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0VGVhbXNJbkFDb21wZXRpdGlvbiA9IGFzeW5jIChjb21wX2lkKSA9PiB7XG4gICAgaWYgKFwiY2FjaGVzXCIgaW4gd2luZG93KSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNhY2hlcy5tYXRjaChcImh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL1wiICsgXCJjb21wZXRpdGlvbnMvXCIgKyBjb21wX2lkICsgXCIvdGVhbXNcIilcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnRlYW1zXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7Y29tcF9pZH0vdGVhbXNgLCBjb25maWcpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLnRlYW1zXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbXBldGl0aW9uU2NvcmVycyA9IGFzeW5jIChjb21wX2lkKSA9PiB7XG4gICAgaWYgKFwiY2FjaGVzXCIgaW4gd2luZG93KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL2NvbXBldGl0aW9ucy8ke2NvbXBfaWR9L3Njb3JlcnNgLCBjb25maWcpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS5zY29yZXJzXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGNvbXBfaWQgKyBcIi9zY29yZXJzXCIpXG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5zY29yZXJzXG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wZXRpdGlvblN0YW5kaW5ncyA9IGFzeW5jIChjb21wX2lkKSA9PiB7XG4gICAgaWYgKFwiY2FjaGVzXCIgaW4gd2luZG93KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL2NvbXBldGl0aW9ucy8ke2NvbXBfaWR9L3N0YW5kaW5nc2AsIGNvbmZpZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLnN0YW5kaW5nc1swXS50YWJsZVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNhY2hlcy5tYXRjaChcImh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL1wiICsgXCJjb21wZXRpdGlvbnMvXCIgKyBjb21wX2lkICsgXCIvc3RhbmRpbmdzXCIpXG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5zdGFuZGluZ3NbMF0udGFibGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpXG4gICAgfVxufSIsImltcG9ydCB7IGdldENvbXBldGl0aW9uU3RhbmRpbmdzIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NvbXBldGl0aW9uLmpzXCJcblxuY2xhc3MgU3RhbmRpbmdFbGVtIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMubG9hZGluZygpXG4gICAgICAgIHRoaXMuX2xpc3QgPSBhd2FpdCB0aGlzLmdldFN0YW5kaW5ncygpXG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5fbGlzdCkgdGhpcy5yZW5kZXIoKVxuICAgICAgICBlbHNlIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyIGNlbnRlcmluZ1wiPlxuICAgICAgICAgICAgPGg1IGNsYXNzPVwiXCI+U3RhbmRpbmdzPC9oNT5cbiAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IHRoZSBzdGFuZGluZ3MuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyIGNlbnRlcmluZ1wiPlxuICAgICAgICAgICAgPGg1IGNsYXNzPVwiXCI+U3RhbmRpbmdzPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJpbmRldGVybWluYXRlXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0U3RhbmRpbmdzKCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGFuZGluZyA9IGF3YWl0IGdldENvbXBldGl0aW9uU3RhbmRpbmdzKGNvZGUudG9VcHBlckNhc2UoKSlcbiAgICAgICAgICAgIHJldHVybiBzdGFuZGluZ1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRSb3coaXRlbSkge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLnRlYW0ubmFtZX08L3RkPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS53b259PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0uZHJhd308L3RkPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5sb3N0fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLnBvaW50c308L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYmxlLWNvbnRhaW5lciBjZW50ZXJpbmdcIj5cbiAgICAgICAgICAgIDxoNSBjbGFzcz1cIlwiPlN0YW5kaW5nczwvaDU+XG4gICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJyZXNwb25zaXZlLXRhYmxlIHN0cmlwZWRcIj5cbiAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5UZWFtczwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+V29uPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5EcmF3PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Mb3N0PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Qb2ludHM8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG5cbiAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5fbGlzdCAmJiB0aGlzLl9saXN0LnJlZHVjZSgoaHRtbCwgaXRlbSkgPT4gaHRtbCArIHRoaXMubG9hZFJvdyhpdGVtKSwgJycpfVxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzdGFuZGluZy1lbGVtJywgU3RhbmRpbmdFbGVtKSIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZSdcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2FwcC5jc3MnXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvbmF2LmpzJ1xuaW1wb3J0ICcuLi9jb21wb25lbnRzL3Njb3Jlci5qcydcbmltcG9ydCAnLi4vY29tcG9uZW50cy9zdGFuZGluZ3MuanMnXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvdGVhbS5qcydcbmltcG9ydCAnLi4vdmlldy9tYXRlcmlhbGl6ZS5taW4uanMnXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5cbmxldCBzdGF0ZSA9IHtcbiAgICBjb250ZW50OiAnJ1xufVxuXG5jb25zdCBkZXRhaWwgPSBhc3luYyAoKSA9PiB7XG5cbiAgICBjb25zdCBsb2FkQ29udGVudCA9IGFzeW5jIChjb2RlKSA9PiB7XG5cbiAgICAgICAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IGAvc3JjL3BhZ2VzL2RldGFpbC5odG1sYCA6IGAvZGlzdC9zcmMvcGFnZXMvZGV0YWlsLmh0bWxgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQodXJsKTtcblxuICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNvbnRlbnQgPSByZXMuZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IF9tYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgbnVsbCwgYGNvbXBldGl0aW9uLWRldGFpbC5odG1sP2NvZGU9JHtjb2RlfWApXG5cbiAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBlLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBfbWFpbi5pbm5lckhUTUwgPSBzdGF0ZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9tYWluLmlubmVySFRNTCA9IHN0YXRlLmNvbnRlbnRcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgb24gbG9hZCBjb250ZW50IVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyBvbiBsb2FkIGNvbnRlbnQhICR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBsZXQgY29kZSA9IHBhcmFtcy5nZXQoJ2NvZGUnKVxuXG4gICAgaWYgKGNvZGUgPT09IFwiXCIgfHwgY29kZSA9PT0gbnVsbCkgY29kZSA9IFwiYmwxXCI7XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY29kZScsIGNvZGUpXG5cbiAgICBhd2FpdCBsb2FkQ29udGVudChjb2RlKTtcblxuICAgIGNvbnN0IGJhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZW5hdi1iYWNrJylcbiAgICBpZiAoYmFjaykgYmFjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5tYXRjaCgnY29tcGV0aXRpb24tZGV0YWlsLmh0bWwnKSkge1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIG51bGwsIGBpbmRleC5odG1sI2hvbWVgKVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgIH1cbiAgICB9KVxuXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiAoKCkgPT4ge1xuICAgIGlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXG4gICAgICAgICAgICAgICAgLnJlZ2lzdGVyKFwiL3NlcnZpY2Utd29ya2VyLmpzXCIpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlcnZpY2UgV29ya2VyIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWwoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcmVnaXN0ZXIgU2VydmljZSBXb3JrZXJcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAvLyAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcbiAgICAgICAgLy8gICAgICAgICAucmVnaXN0ZXIoXCIvZGlzdC9zZXJ2aWNlLXdvcmtlci5qc1wiKVxuICAgICAgICAvLyAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJESVNUIFNlcnZpY2UgV29ya2VyIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkXCIpO1xuICAgICAgICAvLyAgICAgICAgICAgICBkZXRhaWwoKVxuICAgICAgICAvLyAgICAgICAgIH0pXG4gICAgICAgIC8vICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcmVnaXN0ZXIgRElTVCBTZXJ2aWNlIFdvcmtlclwiKTtcbiAgICAgICAgLy8gICAgICAgICB9KTtcbiAgICAgICAgLy8gfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmljZSBXb3JrZXIgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIik7XG4gICAgfVxufSkoKSkiXSwic291cmNlUm9vdCI6IiJ9