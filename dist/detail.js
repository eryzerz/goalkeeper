!function(t){function e(e){for(var r,c,i=e[0],u=e[1],s=e[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={3:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;a.push([50,1,0]),n()}({10:function(t,e,n){"use strict";var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function i(t){a(c,r,o,i,u,"next",t)}function u(t){a(c,r,o,i,u,"throw",t)}i(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function f(t,e,n){return(f=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,o,a,l,f,v,y=(e=m,n=p(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return s(this,t)});function m(){return i(this,m),y.apply(this,arguments)}return o=m,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),e=new URLSearchParams(window.location.search),n=e.get("code"),t.next=5,this.loadScorer(n);case 5:r=t.sent,this._list=r?r.slice(0,5):r,this._list?this.render():this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the scorers. Please try again in a minute</h5>\n        </div>\n        ';case 8:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container center-column">\n            <h5>Competition Scorers</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"loadScorer",value:(f=c(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(r.b)(e.toUpperCase());case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return f.apply(this,arguments)})},{key:"cardItem",value:function(t){var e=t.player,n=t.team,r=t.numberOfGoals;return'\n        <li class="scorer">\n            <div class="collapsible-header scorer-header">'.concat(e.name,'</div>\n            <div class="collapsible-body scorer-body"><span>').concat(r," Goals for ").concat(n.name,"</span></div>\n        </li>\n        ")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <ul class="collapsible">\n                '.concat(this._list&&this._list.reduce((function(e,n){return e+t.cardItem(n)}),""),"\n            </ul>\n        </div>\n        ");var e=document.querySelectorAll(".collapsible");M.Collapsible.init(e);var n=document.querySelectorAll(".scorer"),r=document.querySelectorAll(".scorer-body");n[0].classList.toggle("active"),r[0].style.display="block"}}])&&u(o.prototype,a),l&&u(o,l),m}(l(HTMLElement));customElements.define("scorer-elem",v)},11:function(t,e,n){"use strict";n(5);var r=n(3),o=n.p+"src/assets/images/crest.png",a=n(4);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,u,"next",t)}function u(t){i(a,r,o,c,u,"throw",t)}c(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){var e="function"==typeof Map?new Map:void 0;return(p=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,t)})(t)}function h(t,e,n){return(h=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&v(o,n.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(g,t);var e,n,c,i,p,h,m,b=(e=g,n=d(),function(){var t,r=y(e);if(n){var o=y(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return f(this,t)});function g(){return s(this,g),b.apply(this,arguments)}return c=g,(i=[{key:"connectedCallback",value:(m=u(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),t.next=3,this.getTeams();case 3:this._list=t.sent,this._list&&0!==this._list.length?this.render():(e="keeper"===window.location.hash.slice(1),this.innerHTML=e?'\n                <div class="comp-container">\n                    <h5>Teams</h5>\n                    <h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no team saved yet!</h5>\n                </div>\n                ':'\n                <div class="comp-container">\n                    <h5>Competitions</h5>\n                    <div class="carousel">\n                        <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the teams. Please try again in a minute</h5>\n                    </div>\n                </div>\n                ');case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getTeams",value:(h=u(regeneratorRuntime.mark((function t(){var e,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.location.hash.slice(1)){t.next=16;break}return e=new URLSearchParams(window.location.search),n=e.get("code"),t.prev=4,t.next=7,Object(r.d)(n.toUpperCase());case 7:return o=t.sent,t.abrupt("return",o);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",null);case 14:t.next=26;break;case 16:return t.prev=16,t.next=19,Object(a.d)();case 19:return c=t.sent,t.abrupt("return",c);case 23:return t.prev=23,t.t1=t.catch(16),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,null,[[4,11],[16,23]])}))),function(){return h.apply(this,arguments)})},{key:"carouselItem",value:function(t){return"keeper"===window.location.hash.slice(1)?localStorage.setItem("is-from-keeper",!0):localStorage.setItem("is-from-keeper",!1),'\n        <a class="carousel-item team" href="./team-detail.html?id='.concat(t.id,'">\n            <img class="responsive-img" src="').concat(t.crestUrl,'">\n            <p class="team-name">').concat(t.shortName,"</p>\n        </a>")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                '.concat(this._list&&this._list.reduce((function(e,n){return e+t.carouselItem(n)}),""),"\n            </div>\n        </div>\n        "),document.querySelectorAll("img.responsive-img").forEach((function(t){t.addEventListener("error",(function(){t.setAttribute("src",o)}))}));var e=document.querySelectorAll(".carousel");M.Carousel.init(e)}}])&&l(c.prototype,i),p&&l(c,p),g}(p(HTMLElement));customElements.define("team-elem",m)},3:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return f}));var r=n(0),o=n.n(r),a=n(1);function c(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)}))}}var u=function(){var t=i(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[2002,2003,2014,2015,2021],t.prev=1,n=Promise.all(e.map(function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=27;break}return t.next=3,caches.match("https://api.football-data.org/v2/competitions/"+e);case 3:if(!(n=t.sent)){t.next=11;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r);case 11:return t.prev=11,t.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(e),a.a);case 14:if(200!==(c=t.sent).status){t.next=19;break}return t.abrupt("return",c.data);case 19:return t.abrupt("return",null);case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(11),t.abrupt("return",null);case 25:t.next=28;break;case 27:console.log("Cache isn't supported in this browser.");case 28:case"end":return t.stop()}}),t,null,[[11,22]])})));return function(e){return t.apply(this,arguments)}}())),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=23;break}return t.next=3,caches.match("https://api.football-data.org/v2/competitions/"+e+"/teams");case 3:if(!(n=t.sent)){t.next=11;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r.teams);case 11:return t.prev=11,t.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/teams"),a.a);case 14:return c=t.sent,t.abrupt("return",c.data.teams);case 18:return t.prev=18,t.t0=t.catch(11),t.abrupt("return",null);case 21:t.next=24;break;case 23:console.log("Cache isn't supported in this browser.");case 24:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=21;break}return t.prev=1,t.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/scorers"),a.a);case 4:return n=t.sent,t.abrupt("return",n.data.scorers);case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,caches.match("https://api.football-data.org/v2/competitions/"+e+"/scorers");case 12:if(!(r=t.sent)){t.next=18;break}return t.next=16,r.json();case 16:return c=t.sent,t.abrupt("return",c.scorers);case 18:return t.abrupt("return",null);case 19:t.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=i(regeneratorRuntime.mark((function t(e){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("caches"in window)){t.next=21;break}return t.prev=1,t.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(e,"/standings"),a.a);case 4:return n=t.sent,t.abrupt("return",n.data.standings[0].table);case 8:return t.prev=8,t.t0=t.catch(1),t.next=12,caches.match("https://api.football-data.org/v2/competitions/"+e+"/standings");case 12:if(!(r=t.sent)){t.next=18;break}return t.next=16,r.json();case 16:return c=t.sent,t.abrupt("return",c.standings[0].table);case 18:return t.abrupt("return",null);case 19:t.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},50:function(t,e,n){"use strict";n.r(e);n(7),n(8),n(9),n(10);var r=n(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function i(t){a(c,r,o,i,u,"next",t)}function u(t){a(c,r,o,i,u,"throw",t)}i(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return f(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)})(t)}function f(t,e,n){return(f=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,t);var e,n,o,a,l,f,v,y=(e=m,n=p(),function(){var t,r=d(e);if(n){var o=d(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return s(this,t)});function m(){return i(this,m),y.apply(this,arguments)}return o=m,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(),t.next=3,this.getStandings();case 3:this._list=t.sent,this._list?this.render():this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the standings. Please try again in a minute</h5>\n        </div>\n        ';case 5:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"getStandings",value:(f=c(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new URLSearchParams(window.location.search),n=e.get("code"),t.prev=2,t.next=5,Object(r.c)(n.toUpperCase());case 5:return o=t.sent,t.abrupt("return",o);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(){return f.apply(this,arguments)})},{key:"loadRow",value:function(t){return"\n        <tr>\n            <td>".concat(t.team.name,"</td>\n            <td>").concat(t.won,"</td>\n            <td>").concat(t.draw,"</td>\n            <td>").concat(t.lost,"</td>\n            <td>").concat(t.points,"</td>\n        </tr>\n        ")}},{key:"render",value:function(){var t=this;this.innerHTML='\n        <div class="table-container centering">\n            <h5 class="">Standings</h5>\n            <table class="responsive-table striped">\n                <thead>\n                    <tr>\n                        <th>Teams</th>\n                        <th>Won</th>\n                        <th>Draw</th>\n                        <th>Lost</th>\n                        <th>Points</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    '.concat(this._list&&this._list.reduce((function(e,n){return e+t.loadRow(n)}),""),"\n                </tbody>\n            </table>\n        </div>\n        ")}}])&&u(o.prototype,a),l&&u(o,l),m}(l(HTMLElement));customElements.define("standing-elem",v);n(11),n(5);var y=n(0),m=n.n(y);function b(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){b(a,r,o,c,i,"next",t)}function i(t){b(a,r,o,c,i,"throw",t)}c(void 0)}))}}var w={content:""},x=function(){var t=g(regeneratorRuntime.mark((function t(){var e,n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=g(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/dist/src/pages/detail.html",t.prev=1,t.next=4,m.a.get("/src/pages/detail.html");case 4:200===(n=t.sent).status?(w.content=n.data,r=document.querySelector("#main-content"),history.pushState(w,null,"competition-detail.html?code=".concat(e)),window.onpopstate=function(t){t.state&&(w=t.state,r.innerHTML=w.content)},r.innerHTML=w.content):console.error("Something went wrong on load content!"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Something went wrong on load content! ".concat(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),n=new URLSearchParams(window.location.search),""!==(r=n.get("code"))&&null!==r||(r="bl1"),localStorage.setItem("code",r),t.next=7,e(r);case 7:(o=document.querySelector(".sidenav-back"))&&o.addEventListener("click",(function(){window.location.pathname.match("competition-detail.html")&&(history.replaceState(w,null,"index.html#home"),window.location.reload())}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/service-worker.js").then((function(){console.log("Service Worker successfully registered"),x()})).catch((function(){console.log("Failed to register Service Worker")})):console.log("Service Worker isn't supported in this browser.")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9zY29yZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvdGVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3N0YW5kaW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3L21haW4tZGV0YWlsLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMyIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiU2NvcmVyRWxlbSIsInRoaXMiLCJsb2FkaW5nIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJjb2RlIiwibG9hZFNjb3JlciIsInNjb3JlcnMiLCJfbGlzdCIsInJlbmRlciIsImlubmVySFRNTCIsImdldENvbXBldGl0aW9uU2NvcmVycyIsInRvVXBwZXJDYXNlIiwicmVzIiwic2NvcmVyIiwicGxheWVyIiwidGVhbSIsIm51bWJlck9mR29hbHMiLCJyZWR1Y2UiLCJodG1sIiwiY2FyZEl0ZW0iLCJlbGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIk0iLCJDb2xsYXBzaWJsZSIsImluaXQiLCJib2R5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3R5bGUiLCJkaXNwbGF5IiwiSFRNTEVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIlRlYW1FbGVtIiwiZ2V0VGVhbXMiLCJpc0Zyb21TYXZlZCIsImhhc2giLCJnZXRUZWFtc0luQUNvbXBldGl0aW9uIiwidGVhbXMiLCJnZXRBbGxUZWFtcyIsInNhdmVkIiwiaXRlbSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJpZCIsImNyZXN0VXJsIiwic2hvcnROYW1lIiwiY2Fyb3VzZWxJdGVtIiwiZm9yRWFjaCIsImVsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwiY3Jlc3QiLCJDYXJvdXNlbCIsImdldEFsbENvbXBldGl0aW9ucyIsImNvbXBfaWQiLCJyZXNfbGlzdCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJjYWNoZXMiLCJtYXRjaCIsImpzb24iLCJheGlvcyIsImNvbmZpZyIsInJlc3BvbnNlIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsImdldENvbXBldGl0aW9uU3RhbmRpbmdzIiwic3RhbmRpbmdzIiwidGFibGUiLCJTdGFuZGluZ0VsZW0iLCJnZXRTdGFuZGluZ3MiLCJzdGFuZGluZyIsIndvbiIsImRyYXciLCJsb3N0IiwicG9pbnRzIiwibG9hZFJvdyIsInN0YXRlIiwiY29udGVudCIsImRldGFpbCIsImxvYWRDb250ZW50IiwiX21haW4iLCJxdWVyeVNlbGVjdG9yIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIm9ucG9wc3RhdGUiLCJlIiwiZXJyb3IiLCJiYWNrIiwicGF0aG5hbWUiLCJyZXBsYWNlU3RhdGUiLCJyZWxvYWQiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQs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Q0csRUFBTTVFLFVBQVl3RSxFQUFNQyxTQUd4QmQsUUFBUXVCLE1BQU0seUNBMUJOLGdEQTZCWnZCLFFBQVF1QixNQUFSLHVEQTdCWSx5REFGVCxzREFtQ0wzRixFQUFTLElBQUlDLGdCQUFnQlAsT0FBT1EsU0FBU0MsUUFHdEMsTUFGVEMsRUFBT0osRUFBT3ZCLElBQUksVUFFTSxPQUFUMkIsSUFBZUEsRUFBTyxPQUV6Q3VDLGFBQWFDLFFBQVEsT0FBUXhDLEdBeENsQixTQTBDTGdGLEVBQVloRixHQTFDUCxRQTRDTHdGLEVBQU92RSxTQUFTaUUsY0FBYyxtQkFDMUJNLEVBQUt6QyxpQkFBaUIsU0FBUyxXQUNqQ3pELE9BQU9RLFNBQVMyRixTQUFTL0IsTUFBTSw2QkFDL0J5QixRQUFRTyxhQUFhYixFQUFPLEtBQTVCLG1CQUNBdkYsT0FBT1EsU0FBUzZGLGFBaERiLDJDQUFILHFEQXNEWjFFLFNBQVM4QixpQkFBaUIsb0JBQW9CLFdBQ3RDLGtCQUFtQjZDLFVBRWZBLFVBQVVDLGNBQ0xDLFNBQVMsc0JBQ1RDLE1BQUssV0FDRi9CLFFBQVFDLElBQUksMENBQ1pjLE9BSlIsT0FNVyxXQUNIZixRQUFRQyxJQUFJLHdDQWV4QkQsUUFBUUMsSUFBSSIsImZpbGUiOiJkZXRhaWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDM6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzUwLDEsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgeyBnZXRDb21wZXRpdGlvblNjb3JlcnMgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcydcblxuY2xhc3MgU2NvcmVyRWxlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcoKVxuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG4gICAgICAgIGNvbnN0IHNjb3JlcnMgPSBhd2FpdCB0aGlzLmxvYWRTY29yZXIoY29kZSlcbiAgICAgICAgdGhpcy5fbGlzdCA9IHNjb3JlcnMgPyBzY29yZXJzLnNsaWNlKDAsIDUpIDogc2NvcmVyc1xuXG4gICAgICAgIGlmICh0aGlzLl9saXN0KSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2UgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyLWNvbHVtblwiPlxuICAgICAgICAgICAgPGg1PlNjb3JlcnM8L2g1PlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+T29wcy4uIGNhbm5vdCBnZXQgdGhlIHNjb3JlcnMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNlbnRlci1jb2x1bW5cIj5cbiAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbiBTY29yZXJzPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJpbmRldGVybWluYXRlXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNjb3Jlcihjb2RlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRDb21wZXRpdGlvblNjb3JlcnMoY29kZS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHJlc1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FyZEl0ZW0oc2NvcmVyKSB7XG4gICAgICAgIGNvbnN0IHsgcGxheWVyLCB0ZWFtLCBudW1iZXJPZkdvYWxzIH0gPSBzY29yZXJcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8bGkgY2xhc3M9XCJzY29yZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzaWJsZS1oZWFkZXIgc2NvcmVyLWhlYWRlclwiPiR7cGxheWVyLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2libGUtYm9keSBzY29yZXItYm9keVwiPjxzcGFuPiR7bnVtYmVyT2ZHb2Fsc30gR29hbHMgZm9yICR7dGVhbS5uYW1lfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyLWNvbHVtblwiPlxuICAgICAgICAgICAgPGg1PlNjb3JlcnM8L2g1PlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwiY29sbGFwc2libGVcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5yZWR1Y2UoKGh0bWwsIHNjb3JlcikgPT4gaHRtbCArIHRoaXMuY2FyZEl0ZW0oc2NvcmVyKSwgJycpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgICBNLkNvbGxhcHNpYmxlLmluaXQoZWxlbXMpO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2NvcmVyJylcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY29yZXItYm9keScpXG5cbiAgICAgICAgc2NvcmVyc1swXS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgICAgICBib2R5WzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Njb3Jlci1lbGVtJywgU2NvcmVyRWxlbSkiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nXCI7IiwiaW1wb3J0ICcuLi92aWV3L21hdGVyaWFsaXplLm1pbi5qcydcbmltcG9ydCB7IGdldFRlYW1zSW5BQ29tcGV0aXRpb24gfSBmcm9tIFwiLi4vc2VydmljZXMvY29tcGV0aXRpb24uanNcIlxuaW1wb3J0IGNyZXN0IGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nJ1xuaW1wb3J0IHsgZ2V0QWxsVGVhbXMgfSBmcm9tICcuLi9zZXJ2aWNlcy9kYXRhYmFzZS5qcydcblxuY2xhc3MgVGVhbUVsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgdGhpcy5fbGlzdCA9IGF3YWl0IHRoaXMuZ2V0VGVhbXMoKVxuXG4gICAgICAgIGlmICh0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QubGVuZ3RoICE9PSAwKSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNGcm9tU2F2ZWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSA9PT0gXCJrZWVwZXJcIiA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaXNGcm9tU2F2ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg1PlRlYW1zPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+VGhlcmUncyBubyB0ZWFtIHNhdmVkIHlldCE8L2g1PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbnM8L2g1PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IHRoZSB0ZWFtcy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5UZWFtczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VGVhbXMoKSB7XG4gICAgICAgIGxldCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICBjb25zdCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlYW1zID0gYXdhaXQgZ2V0VGVhbXNJbkFDb21wZXRpdGlvbihjb2RlLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlYW1zXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgc2F2ZWQgPSBhd2FpdCBnZXRBbGxUZWFtcygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjYXJvdXNlbEl0ZW0oaXRlbSkge1xuICAgICAgICBsZXQgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuICAgICAgICBpZiAocGFnZSA9PT0gXCJrZWVwZXJcIikgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzLWZyb20ta2VlcGVyJywgdHJ1ZSlcbiAgICAgICAgZWxzZSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXMtZnJvbS1rZWVwZXInLCBmYWxzZSlcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8YSBjbGFzcz1cImNhcm91c2VsLWl0ZW0gdGVhbVwiIGhyZWY9XCIuL3RlYW0tZGV0YWlsLmh0bWw/aWQ9JHtpdGVtLmlkfVwiPlxuICAgICAgICAgICAgPGltZyBjbGFzcz1cInJlc3BvbnNpdmUtaW1nXCIgc3JjPVwiJHtpdGVtLmNyZXN0VXJsfVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZWFtLW5hbWVcIj4ke2l0ZW0uc2hvcnROYW1lfTwvcD5cbiAgICAgICAgPC9hPmBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5UZWFtczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5yZWR1Y2UoKGh0bWwsIGl0ZW0pID0+IGh0bWwgKyB0aGlzLmNhcm91c2VsSXRlbShpdGVtKSwgJycpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG5cbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nLnJlc3BvbnNpdmUtaW1nJyk7XG5cbiAgICAgICAgaW1nLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzcmMnLCBjcmVzdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwnKTtcbiAgICAgICAgTS5DYXJvdXNlbC5pbml0KGVsZW1zKTtcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndGVhbS1lbGVtJywgVGVhbUVsZW0pIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qcydcblxuZXhwb3J0IGNvbnN0IGdldEFsbENvbXBldGl0aW9ucyA9IGFzeW5jICgpID0+IHtcblxuICAgIGNvbnN0IGNvbXBfaWQgPSBbMjAwMiwgMjAwMywgMjAxNCwgMjAxNSwgMjAyMV1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc19saXN0ID0gUHJvbWlzZS5hbGwoY29tcF9pZC5tYXAoYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgaWQpXG4gICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7aWR9YCwgY29uZmlnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG5cbiAgICAgICAgcmV0dXJuIHJlc19saXN0XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnJcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRUZWFtc0luQUNvbXBldGl0aW9uID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGNvbXBfaWQgKyBcIi90ZWFtc1wiKVxuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgcmV0dXJuIGRhdGEudGVhbXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9jb21wZXRpdGlvbnMvJHtjb21wX2lkfS90ZWFtc2AsIGNvbmZpZylcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEudGVhbXNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGV0aXRpb25TY29yZXJzID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7Y29tcF9pZH0vc2NvcmVyc2AsIGNvbmZpZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLnNjb3JlcnNcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgY29tcF9pZCArIFwiL3Njb3JlcnNcIilcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnNjb3JlcnNcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbXBldGl0aW9uU3RhbmRpbmdzID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7Y29tcF9pZH0vc3RhbmRpbmdzYCwgY29uZmlnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEuc3RhbmRpbmdzWzBdLnRhYmxlXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGNvbXBfaWQgKyBcIi9zdGFuZGluZ3NcIilcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnN0YW5kaW5nc1swXS50YWJsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICB9XG59IiwiaW1wb3J0IHsgZ2V0Q29tcGV0aXRpb25TdGFuZGluZ3MgfSBmcm9tIFwiLi4vc2VydmljZXMvY29tcGV0aXRpb24uanNcIlxuXG5jbGFzcyBTdGFuZGluZ0VsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgdGhpcy5fbGlzdCA9IGF3YWl0IHRoaXMuZ2V0U3RhbmRpbmdzKClcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl9saXN0KSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2UgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1jb250YWluZXIgY2VudGVyaW5nXCI+XG4gICAgICAgICAgICA8aDUgY2xhc3M9XCJcIj5TdGFuZGluZ3M8L2g1PlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+T29wcy4uIGNhbm5vdCBnZXQgdGhlIHN0YW5kaW5ncy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgbG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWJsZS1jb250YWluZXIgY2VudGVyaW5nXCI+XG4gICAgICAgICAgICA8aDUgY2xhc3M9XCJcIj5TdGFuZGluZ3M8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PGRpdiBjbGFzcz1cImluZGV0ZXJtaW5hdGVcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBhc3luYyBnZXRTdGFuZGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBwYXJhbXMuZ2V0KCdjb2RlJylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YW5kaW5nID0gYXdhaXQgZ2V0Q29tcGV0aXRpb25TdGFuZGluZ3MoY29kZS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHN0YW5kaW5nXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGVyclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZFJvdyhpdGVtKSB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0udGVhbS5uYW1lfTwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLndvbn08L3RkPlxuICAgICAgICAgICAgPHRkPiR7aXRlbS5kcmF3fTwvdGQ+XG4gICAgICAgICAgICA8dGQ+JHtpdGVtLmxvc3R9PC90ZD5cbiAgICAgICAgICAgIDx0ZD4ke2l0ZW0ucG9pbnRzfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGUtY29udGFpbmVyIGNlbnRlcmluZ1wiPlxuICAgICAgICAgICAgPGg1IGNsYXNzPVwiXCI+U3RhbmRpbmdzPC9oNT5cbiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cInJlc3BvbnNpdmUtdGFibGUgc3RyaXBlZFwiPlxuICAgICAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlRlYW1zPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Xb248L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkRyYXc8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkxvc3Q8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlBvaW50czwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgPC90aGVhZD5cblxuICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QucmVkdWNlKChodG1sLCBpdGVtKSA9PiBodG1sICsgdGhpcy5sb2FkUm93KGl0ZW0pLCAnJyl9XG4gICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3N0YW5kaW5nLWVsZW0nLCBTdGFuZGluZ0VsZW0pIiwiaW1wb3J0ICdyZWdlbmVyYXRvci1ydW50aW1lJ1xuaW1wb3J0ICcuLi8uLi9zdHlsZXMvYXBwLmNzcydcbmltcG9ydCAnLi4vY29tcG9uZW50cy9uYXYuanMnXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvc2NvcmVyLmpzJ1xuaW1wb3J0ICcuLi9jb21wb25lbnRzL3N0YW5kaW5ncy5qcydcbmltcG9ydCAnLi4vY29tcG9uZW50cy90ZWFtLmpzJ1xuaW1wb3J0ICcuLi92aWV3L21hdGVyaWFsaXplLm1pbi5qcydcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcblxubGV0IHN0YXRlID0ge1xuICAgIGNvbnRlbnQ6ICcnXG59XG5cbmNvbnN0IGRldGFpbCA9IGFzeW5jICgpID0+IHtcblxuICAgIGNvbnN0IGxvYWRDb250ZW50ID0gYXN5bmMgKGNvZGUpID0+IHtcblxuICAgICAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiID8gYC9zcmMvcGFnZXMvZGV0YWlsLmh0bWxgIDogYC9kaXN0L3NyYy9wYWdlcy9kZXRhaWwuaHRtbGBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgL3NyYy9wYWdlcy9kZXRhaWwuaHRtbGApO1xuXG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY29udGVudCA9IHJlcy5kYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgX21haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tY29udGVudFwiKVxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBudWxsLCBgY29tcGV0aXRpb24tZGV0YWlsLmh0bWw/Y29kZT0ke2NvZGV9YClcblxuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgd2luZG93Lm9ucG9wc3RhdGUgPSBlID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IGUuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWluLmlubmVySFRNTCA9IHN0YXRlLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX21haW4uaW5uZXJIVE1MID0gc3RhdGUuY29udGVudFxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyBvbiBsb2FkIGNvbnRlbnQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNvbWV0aGluZyB3ZW50IHdyb25nIG9uIGxvYWQgY29udGVudCEgJHtlcnJ9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGxldCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG5cbiAgICBpZiAoY29kZSA9PT0gXCJcIiB8fCBjb2RlID09PSBudWxsKSBjb2RlID0gXCJibDFcIjtcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjb2RlJywgY29kZSlcblxuICAgIGF3YWl0IGxvYWRDb250ZW50KGNvZGUpO1xuXG4gICAgY29uc3QgYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlbmF2LWJhY2snKVxuICAgIGlmIChiYWNrKSBiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKCdjb21wZXRpdGlvbi1kZXRhaWwuaHRtbCcpKSB7XG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgbnVsbCwgYGluZGV4Lmh0bWwjaG9tZWApXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgfVxuICAgIH0pXG5cbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+ICgoKSA9PiB7XG4gICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xuICAgICAgICAvLyBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcbiAgICAgICAgICAgICAgICAucmVnaXN0ZXIoXCIvc2VydmljZS13b3JrZXIuanNcIilcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmljZSBXb3JrZXIgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbCgpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byByZWdpc3RlciBTZXJ2aWNlIFdvcmtlclwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIC8vICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgICAgICAvLyAgICAgICAgIC5yZWdpc3RlcihcIi9kaXN0L3NlcnZpY2Utd29ya2VyLmpzXCIpXG4gICAgICAgIC8vICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRJU1QgU2VydmljZSBXb3JrZXIgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWRcIik7XG4gICAgICAgIC8vICAgICAgICAgICAgIGRldGFpbCgpXG4gICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byByZWdpc3RlciBESVNUIFNlcnZpY2UgV29ya2VyXCIpO1xuICAgICAgICAvLyAgICAgICAgIH0pO1xuICAgICAgICAvLyB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZXJ2aWNlIFdvcmtlciBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICB9XG59KSgpKSJdLCJzb3VyY2VSb290IjoiIn0=