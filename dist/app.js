!function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={2:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([48,1,0]),n()}({10:function(e,t,n){"use strict";var r=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){a(c,r,o,i,s,"next",e)}function s(e){a(c,r,o,i,s,"throw",e)}i(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function f(e,t,n){return(f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(y,e);var t,n,o,a,l,f,v,m=(t=y,n=p(),function(){var e,r=d(t);if(n){var o=d(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return u(this,e)});function y(){return i(this,y),m.apply(this,arguments)}return o=y,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),t=new URLSearchParams(window.location.search),n=t.get("code"),e.next=5,this.loadScorer(n);case 5:r=e.sent,this._list=r?r.slice(0,5):r,this._list?this.render():this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the scorers. Please try again in a minute</h5>\n        </div>\n        ';case 8:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container center-column">\n            <h5>Competition Scorers</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"loadScorer",value:(f=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.b)(t.toUpperCase());case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return f.apply(this,arguments)})},{key:"cardItem",value:function(e){var t=e.player,n=e.team,r=e.numberOfGoals;return'\n        <li class="scorer">\n            <div class="collapsible-header scorer-header">'.concat(t.name,'</div>\n            <div class="collapsible-body scorer-body"><span>').concat(r," Goals for ").concat(n.name,"</span></div>\n        </li>\n        ")}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <ul class="collapsible">\n                '.concat(this._list&&this._list.reduce((function(t,n){return t+e.cardItem(n)}),""),"\n            </ul>\n        </div>\n        ");var t=document.querySelectorAll(".collapsible");M.Collapsible.init(t);var n=document.querySelectorAll(".scorer"),r=document.querySelectorAll(".scorer-body");n[0].classList.toggle("active"),r[0].style.display="block"}}])&&s(o.prototype,a),l&&s(o,l),y}(l(HTMLElement));customElements.define("scorer-elem",v)},11:function(e,t,n){"use strict";n(5);var r=n(3),o=n.p+"src/assets/images/crest.png",a=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function h(e,t,n){return(h=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v(o,n.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(g,e);var t,n,c,i,p,h,y,b=(t=g,n=d(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function g(){return u(this,g),b.apply(this,arguments)}return c=g,(i=[{key:"connectedCallback",value:(y=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getTeams();case 3:this._list=e.sent,this._list&&0!==this._list.length?this.render():(t="keeper"===window.location.hash.slice(1),this.innerHTML=t?'\n                <div class="comp-container">\n                    <h5>Teams</h5>\n                    <h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no team saved yet!</h5>\n                </div>\n                ':'\n                <div class="comp-container">\n                    <h5>Competitions</h5>\n                    <div class="carousel">\n                        <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the teams. Please try again in a minute</h5>\n                    </div>\n                </div>\n                ');case 5:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getTeams",value:(h=s(regeneratorRuntime.mark((function e(){var t,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.hash.slice(1)){e.next=16;break}return t=new URLSearchParams(window.location.search),n=t.get("code"),e.prev=4,e.next=7,Object(r.d)(n.toUpperCase());case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",null);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,Object(a.d)();case 19:return c=e.sent,e.abrupt("return",c);case 23:return e.prev=23,e.t1=e.catch(16),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])}))),function(){return h.apply(this,arguments)})},{key:"carouselItem",value:function(e){return"keeper"===window.location.hash.slice(1)?localStorage.setItem("is-from-keeper",!0):localStorage.setItem("is-from-keeper",!1),'\n        <a class="carousel-item team" href="./team-detail.html?id='.concat(e.id,'">\n            <img class="responsive-img" src="').concat(e.crestUrl,'">\n            <p class="team-name">').concat(e.shortName,"</p>\n        </a>")}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                '.concat(this._list&&this._list.reduce((function(t,n){return t+e.carouselItem(n)}),""),"\n            </div>\n        </div>\n        "),document.querySelectorAll("img.responsive-img").forEach((function(e){e.addEventListener("error",(function(){e.setAttribute("src",o)}))}));var t=document.querySelectorAll(".carousel");M.Carousel.init(t)}}])&&l(c.prototype,i),p&&l(c,p),g}(p(HTMLElement));customElements.define("team-elem",y)},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(0),o=n.n(r),a=n(1);function c(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}var s=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[2002,2003,2014,2015,2021],e.prev=1,n=Promise.all(t.map(function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=27;break}return e.next=3,caches.match("https://api.football-data.org/v2/competitions/"+t);case 3:if(!(n=e.sent)){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(t),a.a);case 14:if(200!==(c=e.sent).status){e.next=19;break}return e.abrupt("return",c.data);case 19:return e.abrupt("return",null);case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(11),e.abrupt("return",null);case 25:e.next=28;break;case 27:console.log("Cache isn't supported in this browser.");case 28:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=23;break}return e.next=3,caches.match("https://api.football-data.org/v2/competitions/"+t+"/teams");case 3:if(!(n=e.sent)){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.teams);case 11:return e.prev=11,e.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/teams"),a.a);case 14:return c=e.sent,e.abrupt("return",c.data.teams);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",null);case 21:e.next=24;break;case 23:console.log("Cache isn't supported in this browser.");case 24:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=21;break}return e.prev=1,e.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/scorers"),a.a);case 4:return n=e.sent,e.abrupt("return",n.data.scorers);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/competitions/"+t+"/scorers");case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return c=e.sent,e.abrupt("return",c.scorers);case 18:return e.abrupt("return",null);case 19:e.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=21;break}return e.prev=1,e.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/standings"),a.a);case 4:return n=e.sent,e.abrupt("return",n.data.standings[0].table);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/competitions/"+t+"/standings");case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return c=e.sent,e.abrupt("return",c.standings[0].table);case 18:return e.abrupt("return",null);case 19:e.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},48:function(e,t,n){"use strict";n.r(t);n(7),n(12);var r=n(4),o=(n(8),n(9),n(5),n(3)),a=n.p+"src/assets/images/bundesliga.png",c=n.p+"src/assets/images/eredivise.png",i=n.p+"src/assets/images/laliga.png",s=n.p+"src/assets/images/ligue.png",u=n.p+"src/assets/images/premier-league.png";n(10);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){d(a,r,o,c,i,"next",e)}function i(e){d(a,r,o,c,i,"throw",e)}c(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)})(e)}function w(e,t,n){return(w=x()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&k(o,n.prototype),o}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S={BL1:a,DED:c,PD:i,FL1:s,PL:u},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(l,e);var t,n,r,a,c,i,s,u=(t=l,n=x(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return b(this,e)});function l(){return m(this,l),u.apply(this,arguments)}return r=l,(a=[{key:"connectedCallback",value:(s=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getCompetitions();case 3:this._list=e.sent,this._list.includes(null)?this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get all competitions. Please try again in a minute</h5>\n            </div>\n        </div>\n        ':this.render();case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getCompetitions",value:(i=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loading=!0,e.prev=1,e.next=4,Object(o.a)();case 4:return t=e.sent,this._loading=!1,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(1),this._loading=!1,e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return i.apply(this,arguments)})},{key:"carouselItem",value:function(e){var t=p(p({},e),{},{emblemUrl:S[e.code]});return'<a class="carousel-item" href="./competition-detail.html?code='.concat(e.code.toLowerCase(),'"><img class="responsive-img" src="').concat(t.emblemUrl,'"></a>')}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                '.concat(this._list.reduce((function(t,n){return t+e.carouselItem(n)}),""),"\n            </div>\n        </div>\n        ");var t=document.querySelectorAll(".carousel");M.Carousel.init(t)}}])&&y(r.prototype,a),c&&y(r,c),l}(g(HTMLElement));customElements.define("comp-elem",R);n(11);var j=n(0),P=n.n(j),_=n(1);function T(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){T(a,r,o,c,i,"next",e)}function i(e){T(a,r,o,c,i,"throw",e)}c(void 0)}))}}var L=function(){var e=E(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=19;break}return e.prev=1,e.next=4,P.a.get("https://api.football-data.org/v2/matches?status=SCHEDULED",_.a);case 4:return t=e.sent,e.abrupt("return",t.data.matches);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/matches?status=SCHEDULED");case 12:if(!(n=e.sent)){e.next=18;break}return e.next=16,n.json();case 16:return r=e.sent,e.abrupt("return",r.matches);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=19;break}return e.prev=1,e.next=4,P.a.get("https://api.football-data.org/v2/matches/".concat(t),_.a);case 4:return n=e.sent,e.abrupt("return",n.data.match);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/matches/"+t);case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return o=e.sent,e.abrupt("return",o.match);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){H(a,r,o,c,i,"next",e)}function i(e){H(a,r,o,c,i,"throw",e)}c(void 0)}))}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){var t="function"==typeof Map?new Map:void 0;return(F=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return N(e,arguments,B(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),K(r,e)})(e)}function N(e,t,n){return(N=W()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&K(o,n.prototype),o}).apply(null,arguments)}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(l,e);var t,n,o,a,c,i,s,u=(t=l,n=W(),function(){var e,r=B(t);if(n){var o=B(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return I(this,e)});function l(){return q(this,l),u.apply(this,arguments)}return o=l,(a=[{key:"connectedCallback",value:(s=A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getMatches();case 3:this._list=e.sent,t=window.location.hash.slice(1),this._list&&0!==this._list.length?this.render():this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n            '.concat("home"===t?'<h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get all matches. Please try again in a minute</h5>':'<h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no match saved yet!</h5>',"\n            </div>\n        </div>\n        ");case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getMatches",value:(i=A(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"!==window.location.hash.slice(1)){e.next=14;break}return e.prev=2,e.next=5,L();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0);case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,Object(r.c)();case 17:return n=e.sent,e.abrupt("return",n);case 21:return e.prev=21,e.t1=e.catch(14),e.abrupt("return",e.t1);case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])}))),function(){return i.apply(this,arguments)})},{key:"loadUpdateBtn",value:function(e,t){var n=window.location.hash.slice(1),r=new Date;return"keeper"===n&&r>e?'<div class="update-match-btn" id="update-match" data-id="'.concat(t,'">\n                <i class="fad fa-sync"></i>\n            </div>'):""}},{key:"cardItem",value:function(e){var t=e.id,n=e.homeTeam,r=e.awayTeam,o=e.utcDate,a=new Date(o),c=[a.getHours().toLocaleString(),1===a.getMinutes().toLocaleString().length?"0"+a.getMinutes().toLocaleString():a.getMinutes().toLocaleString()],i=c[0]+":"+c[1],s=window.location.hash.slice(1);return'\n        <div class="today-card">\n            <div>\n                <p>'.concat(n.name,'</p>\n            </div>\n            <div class="score">\n                <p id="score-').concat(t,'">').concat(i,"</p>\n            </div>\n            <div>\n                <p>").concat(r.name,'</p>\n            </div>\n            <div class="save-match-btn" id="save-match" data-id="').concat(t,'" data-target="delete-modal">\n                ').concat("home"===s?'<i class="fad fa-save"></i>':'<i class="fad fa-trash"></i>',"\n            </div>\n            ").concat(this.loadUpdateBtn(a,t),"\n        </div>\n        ")}},{key:"render",value:function(){var e=this;if(this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n                '.concat(this._list.filter((function(e){return"POSTPONED"!==e.status})).reduce((function(t,n){return t+e.cardItem(n)}),""),'\n            </div>\n            <div id="delete-modal" class="modal">\n                <div class="modal-content">\n                    <h4>Remove Saved Match</h4>\n                    <p>Are you sure you want to remove this match from Keeper?</p>\n                </div>\n                <div class="modal-footer">\n                    <button id="agree-btn" class="modal-close waves-effect waves-green btn-flat">Yep</button>\n                    <button id="cancel-btn" class="modal-close waves-effect waves-green btn-flat">Nope</button>\n                </div>\n            </div>\n        </div>\n        '),"home"===window.location.hash.slice(1))document.querySelectorAll(".save-match-btn").forEach((function(e){e.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,o,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),o=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,C(n);case 4:if(!(a=t.sent)){t.next=13;break}return t.next=8,Object(r.e)(a);case 8:c=t.sent,o.dismiss(),c?"".concat(c).match("Key already exists")?M.toast({html:"Match already saved!",classes:"save-toast"}):M.toast({html:"You can't save while offline!",classes:"save-toast"}):M.toast({html:"Match saved!",classes:"save-toast"}),t.next=15;break;case 13:o.dismiss(),M.toast({html:"Something went wrong. Try again later!",classes:"save-toast"});case 15:case"end":return t.stop()}}),t)}))))}));else{var t=document.querySelectorAll(".save-match-btn"),n=document.querySelector(".modal"),o=M.Modal.init(n),a=document.querySelector("#agree-btn");document.querySelector("#cancel-btn"),t.forEach((function(e){e.addEventListener("click",(function(){o.open(),a.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),a=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,Object(r.a)(n);case 4:t.sent,a.dismiss(),M.toast({html:"Match deleted!",classes:"save-toast"}),window.location.reload(),o.destroy();case 9:case"end":return t.stop()}}),t)}))))}))})),document.querySelectorAll(".update-match-btn").forEach((function(e){e.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,o,a,c,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),o=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,C(n);case 4:if(!(a=t.sent)||!a.score){t.next=15;break}return c=a.score.fullTime,i=c.homeTeam,s=c.awayTeam,t.next=9,Object(r.g)(a);case 9:t.sent,o.dismiss(),document.querySelector("#score-".concat(n)).innerHTML="⬆️ ".concat(null===i?0:i,":").concat(null===s?0:s," ⬇️"),t.next=17;break;case 15:o.dismiss(),M.toast({html:"Something went wrong. Try again later!",classes:"save-toast"});case 17:case"end":return t.stop()}}),t)}))))}))}}}])&&U(o.prototype,a),c&&U(o,c),l}(F(HTMLElement));function Y(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){Y(a,r,o,c,i,"next",e)}function i(e){Y(a,r,o,c,i,"throw",e)}c(void 0)}))}}customElements.define("next-elem",G);var J=function(){var e=z(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=z(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:""},e.prev=1,e.next=4,P.a.get("/src/pages/".concat(t,".html"));case 4:200===(r=e.sent).status?(n.content=r.data,o=document.querySelector("#main-content"),history.pushState(n,null,"index.html#".concat(t)),window.onpopstate=function(e){e.state&&(n=e.state,o.innerHTML=n.content)},o.innerHTML=n.content):console.error("Something went wrong on load content!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Something went wrong on load content! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),""===(n=window.location.hash.slice(1))&&(n="home"),e.next=5,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r};document.addEventListener("DOMContentLoaded",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/dist/service-worker.js").then((function(){console.log("DIST Service Worker successfully registered"),"Notification"in window&&Notification.requestPermission().then((function(e){"denied"!==e?"default"!==e?navigator.serviceWorker.getRegistration().then((function(e){e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:V("BGEjTEacb-o9PYEAk2Jz_He_CbuYVm6qpvbdSwi5u8j8Fv1GDz7p_dSMOK3Ka0b3Vak0Pz6ypdsa_nrUO1M5Rs4")}).then((function(e){console.log("Subscription completed with endpoint: ",e.endpoint),console.log("Subscription completed with p256dh key: ",btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("p256dh"))))),console.log("Subscription completed with auth key: ",btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("auth")))))})).catch((function(e){console.error("Subscription cannot be done ",e.message)})),console.log("Notification Allowed!")})):console.error("User closed the prompt!"):console.log("Notification blocked by user!")})),J()})).catch((function(){console.log("Failed to register DIST Service Worker")})):console.log("Service Worker isn't supported in this browser.")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9zY29yZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvdGVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9idW5kZXNsaWdhLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9lcmVkaXZpc2UucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL2xhbGlnYS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvbGlndWUucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL3ByZW1pZXItbGVhZ3VlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2NvbXBldGl0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3NlcnZpY2VzL21hdGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvbmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHAuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIyIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJTY29yZXJFbGVtIiwidGhpcyIsImxvYWRpbmciLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImNvZGUiLCJsb2FkU2NvcmVyIiwic2NvcmVycyIsIl9saXN0IiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiZ2V0Q29tcGV0aXRpb25TY29yZXJzIiwidG9VcHBlckNhc2UiLCJyZXMiLCJzY29yZXIiLCJwbGF5ZXIiLCJ0ZWFtIiwibnVtYmVyT2ZHb2FscyIsInJlZHVjZSIsImh0bWwiLCJjYXJkSXRlbSIsImVsZW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiTSIsIkNvbGxhcHNpYmxlIiwiaW5pdCIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJIVE1MRWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiVGVhbUVsZW0iLCJnZXRUZWFtcyIsImlzRnJvbVNhdmVkIiwiaGFzaCIsImdldFRlYW1zSW5BQ29tcGV0aXRpb24iLCJ0ZWFtcyIsImdldEFsbFRlYW1zIiwic2F2ZWQiLCJpdGVtIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImlkIiwiY3Jlc3RVcmwiLCJzaG9ydE5hbWUiLCJjYXJvdXNlbEl0ZW0iLCJmb3JFYWNoIiwiZWxlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRBdHRyaWJ1dGUiLCJjcmVzdCIsIkNhcm91c2VsIiwiZ2V0QWxsQ29tcGV0aXRpb25zIiwiY29tcF9pZCIsInJlc19saXN0IiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNhY2hlcyIsIm1hdGNoIiwianNvbiIsImF4aW9zIiwiY29uZmlnIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q29tcGV0aXRpb25TdGFuZGluZ3MiLCJzdGFuZGluZ3MiLCJ0YWJsZSIsImVtYmxlbSIsIkJMMSIsImJ1bmRlc2xpZ2EiLCJERUQiLCJlcmVkaXZpc2UiLCJQRCIsImxhbGlnYSIsIkZMMSIsImxpZ3VlIiwiUEwiLCJwbCIsIkNvbXBldGl0aW9uRWxlbSIsImdldENvbXBldGl0aW9ucyIsImluY2x1ZGVzIiwiX2xvYWRpbmciLCJjb21wIiwibmV3SXRlbSIsImVtYmxlbVVybCIsInRvTG93ZXJDYXNlIiwiZ2V0TmV4dE1hdGNoZXMiLCJtYXRjaGVzIiwiZ2V0TWF0Y2giLCJOZXh0RWxlbSIsImdldE1hdGNoZXMiLCJwYWdlIiwidG9kYXlNYXRjaGVzIiwiZ2V0QWxsTWF0Y2hlcyIsImRhdGUiLCJub3ciLCJEYXRlIiwiaG9tZVRlYW0iLCJhd2F5VGVhbSIsInV0Y0RhdGUiLCJnZXRIb3VycyIsInRvTG9jYWxlU3RyaW5nIiwiZ2V0TWludXRlcyIsInRpbWUiLCJsb2FkVXBkYXRlQnRuIiwiZmlsdGVyIiwiYnRuIiwiZ2V0QXR0cmlidXRlIiwid2FpdFRvYXN0IiwidG9hc3QiLCJjbGFzc2VzIiwic2F2ZU1hdGNoIiwiZGlzbWlzcyIsImFsbEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJpbnN0YW5jZXMiLCJNb2RhbCIsImFncmVlIiwib3BlbiIsImRlbGV0ZU1hdGNoIiwicmVsb2FkIiwiZGVzdHJveSIsInNjb3JlIiwiZnVsbFRpbWUiLCJ1cGRhdGVNYXRjaCIsIm1haW4iLCJsb2FkQ29udGVudCIsInN0YXRlIiwiY29udGVudCIsIl9tYWluIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIm9ucG9wc3RhdGUiLCJlIiwiZXJyb3IiLCJ1cmxCYXNlNjRUb1VpbnQ4QXJyYXkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjQiLCJyZXBlYXQiLCJyZXBsYWNlIiwicmF3RGF0YSIsImF0b2IiLCJvdXRwdXRBcnJheSIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsIk5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiZ2V0UmVnaXN0cmF0aW9uIiwicmVnIiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsImVuZHBvaW50IiwiYnRvYSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImdldEtleSIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1IsRUFB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RSxRQUFRQyxJQUFJLG9DQWROOEQsT0FMUixPQU9XLFdBQ0gvRCxRQUFRQyxJQUFJLDZDQUl4QkQsUUFBUUMsSUFBSSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDI6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzQ4LDEsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgeyBnZXRDb21wZXRpdGlvblNjb3JlcnMgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcydcblxuY2xhc3MgU2NvcmVyRWxlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcoKVxuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG4gICAgICAgIGNvbnN0IHNjb3JlcnMgPSBhd2FpdCB0aGlzLmxvYWRTY29yZXIoY29kZSlcbiAgICAgICAgdGhpcy5fbGlzdCA9IHNjb3JlcnMgPyBzY29yZXJzLnNsaWNlKDAsIDUpIDogc2NvcmVyc1xuXG4gICAgICAgIGlmICh0aGlzLl9saXN0KSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2UgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyLWNvbHVtblwiPlxuICAgICAgICAgICAgPGg1PlNjb3JlcnM8L2g1PlxuICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+T29wcy4uIGNhbm5vdCBnZXQgdGhlIHNjb3JlcnMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNlbnRlci1jb2x1bW5cIj5cbiAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbiBTY29yZXJzPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJpbmRldGVybWluYXRlXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNjb3Jlcihjb2RlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRDb21wZXRpdGlvblNjb3JlcnMoY29kZS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAgICAgcmV0dXJuIHJlc1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FyZEl0ZW0oc2NvcmVyKSB7XG4gICAgICAgIGNvbnN0IHsgcGxheWVyLCB0ZWFtLCBudW1iZXJPZkdvYWxzIH0gPSBzY29yZXJcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8bGkgY2xhc3M9XCJzY29yZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzaWJsZS1oZWFkZXIgc2NvcmVyLWhlYWRlclwiPiR7cGxheWVyLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sbGFwc2libGUtYm9keSBzY29yZXItYm9keVwiPjxzcGFuPiR7bnVtYmVyT2ZHb2Fsc30gR29hbHMgZm9yICR7dGVhbS5uYW1lfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyLWNvbHVtblwiPlxuICAgICAgICAgICAgPGg1PlNjb3JlcnM8L2g1PlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwiY29sbGFwc2libGVcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5yZWR1Y2UoKGh0bWwsIHNjb3JlcikgPT4gaHRtbCArIHRoaXMuY2FyZEl0ZW0oc2NvcmVyKSwgJycpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgICBNLkNvbGxhcHNpYmxlLmluaXQoZWxlbXMpO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2NvcmVyJylcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY29yZXItYm9keScpXG5cbiAgICAgICAgc2NvcmVyc1swXS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxuICAgICAgICBib2R5WzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Njb3Jlci1lbGVtJywgU2NvcmVyRWxlbSkiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nXCI7IiwiaW1wb3J0ICcuLi92aWV3L21hdGVyaWFsaXplLm1pbi5qcydcbmltcG9ydCB7IGdldFRlYW1zSW5BQ29tcGV0aXRpb24gfSBmcm9tIFwiLi4vc2VydmljZXMvY29tcGV0aXRpb24uanNcIlxuaW1wb3J0IGNyZXN0IGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nJ1xuaW1wb3J0IHsgZ2V0QWxsVGVhbXMgfSBmcm9tICcuLi9zZXJ2aWNlcy9kYXRhYmFzZS5qcydcblxuY2xhc3MgVGVhbUVsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgdGhpcy5fbGlzdCA9IGF3YWl0IHRoaXMuZ2V0VGVhbXMoKVxuXG4gICAgICAgIGlmICh0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QubGVuZ3RoICE9PSAwKSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNGcm9tU2F2ZWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSA9PT0gXCJrZWVwZXJcIiA/IHRydWUgOiBmYWxzZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaXNGcm9tU2F2ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg1PlRlYW1zPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+VGhlcmUncyBubyB0ZWFtIHNhdmVkIHlldCE8L2g1PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbnM8L2g1PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IHRoZSB0ZWFtcy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5UZWFtczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VGVhbXMoKSB7XG4gICAgICAgIGxldCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICBjb25zdCBjb2RlID0gcGFyYW1zLmdldCgnY29kZScpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlYW1zID0gYXdhaXQgZ2V0VGVhbXNJbkFDb21wZXRpdGlvbihjb2RlLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlYW1zXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgc2F2ZWQgPSBhd2FpdCBnZXRBbGxUZWFtcygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjYXJvdXNlbEl0ZW0oaXRlbSkge1xuICAgICAgICBsZXQgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuICAgICAgICBpZiAocGFnZSA9PT0gXCJrZWVwZXJcIikgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzLWZyb20ta2VlcGVyJywgdHJ1ZSlcbiAgICAgICAgZWxzZSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXMtZnJvbS1rZWVwZXInLCBmYWxzZSlcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8YSBjbGFzcz1cImNhcm91c2VsLWl0ZW0gdGVhbVwiIGhyZWY9XCIuL3RlYW0tZGV0YWlsLmh0bWw/aWQ9JHtpdGVtLmlkfVwiPlxuICAgICAgICAgICAgPGltZyBjbGFzcz1cInJlc3BvbnNpdmUtaW1nXCIgc3JjPVwiJHtpdGVtLmNyZXN0VXJsfVwiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZWFtLW5hbWVcIj4ke2l0ZW0uc2hvcnROYW1lfTwvcD5cbiAgICAgICAgPC9hPmBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5UZWFtczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5yZWR1Y2UoKGh0bWwsIGl0ZW0pID0+IGh0bWwgKyB0aGlzLmNhcm91c2VsSXRlbShpdGVtKSwgJycpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG5cbiAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nLnJlc3BvbnNpdmUtaW1nJyk7XG5cbiAgICAgICAgaW1nLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzcmMnLCBjcmVzdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwnKTtcbiAgICAgICAgTS5DYXJvdXNlbC5pbml0KGVsZW1zKTtcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndGVhbS1lbGVtJywgVGVhbUVsZW0pIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qcydcblxuZXhwb3J0IGNvbnN0IGdldEFsbENvbXBldGl0aW9ucyA9IGFzeW5jICgpID0+IHtcblxuICAgIGNvbnN0IGNvbXBfaWQgPSBbMjAwMiwgMjAwMywgMjAxNCwgMjAxNSwgMjAyMV1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc19saXN0ID0gUHJvbWlzZS5hbGwoY29tcF9pZC5tYXAoYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgICAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgaWQpXG4gICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7aWR9YCwgY29uZmlnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG5cbiAgICAgICAgcmV0dXJuIHJlc19saXN0XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnJcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRUZWFtc0luQUNvbXBldGl0aW9uID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGNvbXBfaWQgKyBcIi90ZWFtc1wiKVxuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgcmV0dXJuIGRhdGEudGVhbXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9jb21wZXRpdGlvbnMvJHtjb21wX2lkfS90ZWFtc2AsIGNvbmZpZylcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEudGVhbXNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGV0aXRpb25TY29yZXJzID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7Y29tcF9pZH0vc2NvcmVyc2AsIGNvbmZpZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLnNjb3JlcnNcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgY29tcF9pZCArIFwiL3Njb3JlcnNcIilcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnNjb3JlcnNcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldENvbXBldGl0aW9uU3RhbmRpbmdzID0gYXN5bmMgKGNvbXBfaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvY29tcGV0aXRpb25zLyR7Y29tcF9pZH0vc3RhbmRpbmdzYCwgY29uZmlnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEuc3RhbmRpbmdzWzBdLnRhYmxlXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvXCIgKyBcImNvbXBldGl0aW9ucy9cIiArIGNvbXBfaWQgKyBcIi9zdGFuZGluZ3NcIilcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnN0YW5kaW5nc1swXS50YWJsZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInNyYy9hc3NldHMvaW1hZ2VzL2J1bmRlc2xpZ2EucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInNyYy9hc3NldHMvaW1hZ2VzL2VyZWRpdmlzZS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvbGFsaWdhLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJzcmMvYXNzZXRzL2ltYWdlcy9saWd1ZS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvcHJlbWllci1sZWFndWUucG5nXCI7IiwiaW1wb3J0ICcuLi92aWV3L21hdGVyaWFsaXplLm1pbi5qcydcbmltcG9ydCB7IGdldEFsbENvbXBldGl0aW9ucyB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbXBldGl0aW9uLmpzJ1xuaW1wb3J0IGJ1bmRlc2xpZ2EgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9idW5kZXNsaWdhLnBuZydcbmltcG9ydCBlcmVkaXZpc2UgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9lcmVkaXZpc2UucG5nJ1xuaW1wb3J0IGxhbGlnYSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2xhbGlnYS5wbmcnXG5pbXBvcnQgbGlndWUgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9saWd1ZS5wbmcnXG5pbXBvcnQgcGwgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9wcmVtaWVyLWxlYWd1ZS5wbmcnXG5pbXBvcnQgJy4vc2NvcmVyLmpzJ1xuXG5sZXQgc3RhdGUgPSB7XG4gICAgY29udGVudDogJydcbn1cblxuY29uc3QgZW1ibGVtID0ge1xuICAgIEJMMTogYnVuZGVzbGlnYSxcbiAgICBERUQ6IGVyZWRpdmlzZSxcbiAgICBQRDogbGFsaWdhLFxuICAgIEZMMTogbGlndWUsXG4gICAgUEw6IHBsXG59XG5cbmNsYXNzIENvbXBldGl0aW9uRWxlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgdGhpcy5fbGlzdCA9IGF3YWl0IHRoaXMuZ2V0Q29tcGV0aXRpb25zKClcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl9saXN0LmluY2x1ZGVzKG51bGwpKSB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbXAtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aDU+Q29tcGV0aXRpb25zPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbFwiPlxuICAgICAgICAgICAgICAgIDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IGFsbCBjb21wZXRpdGlvbnMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgICAgIGVsc2UgdGhpcy5yZW5kZXIoKVxuICAgIH1cblxuICAgIGxvYWRpbmcoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbnM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PGRpdiBjbGFzcz1cImluZGV0ZXJtaW5hdGVcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGFzeW5jIGdldENvbXBldGl0aW9ucygpIHtcbiAgICAgICAgdGhpcy5fbG9hZGluZyA9IHRydWVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXAgPSBhd2FpdCBnZXRBbGxDb21wZXRpdGlvbnMoKVxuICAgICAgICAgICAgdGhpcy5fbG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm4gY29tcFxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgcmV0dXJuIGVyclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2Fyb3VzZWxJdGVtKGl0ZW0pIHtcblxuICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIGVtYmxlbVVybDogZW1ibGVtW2l0ZW0uY29kZV1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgPGEgY2xhc3M9XCJjYXJvdXNlbC1pdGVtXCIgaHJlZj1cIi4vY29tcGV0aXRpb24tZGV0YWlsLmh0bWw/Y29kZT0ke2l0ZW0uY29kZS50b0xvd2VyQ2FzZSgpfVwiPjxpbWcgY2xhc3M9XCJyZXNwb25zaXZlLWltZ1wiIHNyYz1cIiR7bmV3SXRlbS5lbWJsZW1Vcmx9XCI+PC9hPmBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbnM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9saXN0LnJlZHVjZSgoaHRtbCwgaXRlbSkgPT4gaHRtbCArIHRoaXMuY2Fyb3VzZWxJdGVtKGl0ZW0pLCAnJyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbCcpO1xuICAgICAgICBNLkNhcm91c2VsLmluaXQoZWxlbXMpO1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjb21wLWVsZW0nLCBDb21wZXRpdGlvbkVsZW0pIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qcydcblxuZXhwb3J0IGNvbnN0IGdldE5leHRNYXRjaGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9tYXRjaGVzP3N0YXR1cz1TQ0hFRFVMRURgLCBjb25maWcpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS5tYXRjaGVzXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvbWF0Y2hlcz9zdGF0dXM9U0NIRURVTEVEXCIpXG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5tYXRjaGVzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0TWF0Y2ggPSBhc3luYyAoaWQpID0+IHtcbiAgICBpZiAoXCJjYWNoZXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvbWF0Y2hlcy8ke2lkfWAsIGNvbmZpZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLm1hdGNoXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgY2FjaGVzLm1hdGNoKFwiaHR0cHM6Ly9hcGkuZm9vdGJhbGwtZGF0YS5vcmcvdjIvbWF0Y2hlcy9cIiArIGlkKVxuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEubWF0Y2hcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0ICcuLi92aWV3L21hdGVyaWFsaXplLm1pbi5qcydcbmltcG9ydCB7IGdldE5leHRNYXRjaGVzLCBnZXRNYXRjaCB9IGZyb20gJy4uL3NlcnZpY2VzL21hdGNoLmpzJ1xuaW1wb3J0IHsgc2F2ZU1hdGNoLCBnZXRBbGxNYXRjaGVzLCBkZWxldGVNYXRjaCwgdXBkYXRlTWF0Y2ggfSBmcm9tICcuLi9zZXJ2aWNlcy9kYXRhYmFzZS5qcydcblxuY2xhc3MgTmV4dEVsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICBcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcbiAgICAgICAgdGhpcy5fbGlzdCA9IGF3YWl0IHRoaXMuZ2V0TWF0Y2hlcygpXG4gICAgICAgXG4gICAgICAgIGNvbnN0IHBhZ2UgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKVxuXG4gICAgICAgIGlmICh0aGlzLl9saXN0ICYmIHRoaXMuX2xpc3QubGVuZ3RoICE9PSAwKSB0aGlzLnJlbmRlcigpXG4gICAgICAgIGVsc2UgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyaW5nXCI+XG4gICAgICAgICAgICA8aDU+TmV4dCBNYXRjaGVzPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RheS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICR7cGFnZSA9PT0gXCJob21lXCIgP1xuICAgICAgICAgICAgICAgIGA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5Pb3BzLi4gY2Fubm90IGdldCBhbGwgbWF0Y2hlcy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+YFxuICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICBgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+VGhlcmUncyBubyBtYXRjaCBzYXZlZCB5ZXQhPC9oNT5gfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgbG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyaW5nXCI+XG4gICAgICAgICAgICA8aDU+TmV4dCBNYXRjaGVzPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RheS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0TWF0Y2hlcygpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpXG5cbiAgICAgICAgaWYgKHBhZ2UgPT09IFwiaG9tZVwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvZGF5TWF0Y2hlcyA9IGF3YWl0IGdldE5leHRNYXRjaGVzKClcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9kYXlNYXRjaGVzXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvZGF5TWF0Y2hlcyA9IGF3YWl0IGdldEFsbE1hdGNoZXMoKVxuICAgICAgICAgICAgICAgIHJldHVybiB0b2RheU1hdGNoZXNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gbG9hZFVwZGF0ZUJ0biB0byBtYWtlIGNvbmRpdGlvbmFsIGRpc3BsYXkgdG8gc3luY2hyb25pemUgYnV0dG9uXG4gICAgLy8gU3luY2hyb25pemluZyBtYXRjaCBvbmx5IGF2YWlsYWJsZSB3aGVuIHRoZSBtYXRjaCBhbHJlYWR5IGluIHBsYXkgb3IgZG9uZVxuICAgIC8vIFNvLCB1c2VyIGNhbiBzZWUgc2NvcmUgaW4gS2VlcGVyXG4gICAgbG9hZFVwZGF0ZUJ0bihkYXRlLCBpZCkge1xuICAgICAgICBjb25zdCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSlcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgICAgICBjb25zdCBraWNrT2ZmID0gZGF0ZVxuXG4gICAgICAgIGlmIChwYWdlID09PSBcImtlZXBlclwiICYmIG5vdyA+IGtpY2tPZmYpIHtcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cInVwZGF0ZS1tYXRjaC1idG5cIiBpZD1cInVwZGF0ZS1tYXRjaFwiIGRhdGEtaWQ9XCIke2lkfVwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFkIGZhLXN5bmNcIj48L2k+XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYGBcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgY2FyZEl0ZW0obWF0Y2gpIHtcbiAgICAgICAgY29uc3QgeyBpZCwgaG9tZVRlYW0sIGF3YXlUZWFtLCB1dGNEYXRlIH0gPSBtYXRjaFxuXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh1dGNEYXRlKVxuICAgICAgICBjb25zdCBbaG91ciwgbWluXSA9IFtkYXRlLmdldEhvdXJzKCkudG9Mb2NhbGVTdHJpbmcoKSwgZGF0ZS5nZXRNaW51dGVzKCkudG9Mb2NhbGVTdHJpbmcoKS5sZW5ndGggPT09IDEgPyBcIjBcIiArIGRhdGUuZ2V0TWludXRlcygpLnRvTG9jYWxlU3RyaW5nKCkgOiBkYXRlLmdldE1pbnV0ZXMoKS50b0xvY2FsZVN0cmluZygpXVxuICAgICAgICBjb25zdCB0aW1lID0gaG91ciArIFwiOlwiICsgbWluXG5cbiAgICAgICAgY29uc3QgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpXG5cbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRvZGF5LWNhcmRcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHA+JHtob21lVGVhbS5uYW1lfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjb3JlXCI+XG4gICAgICAgICAgICAgICAgPHAgaWQ9XCJzY29yZS0ke2lkfVwiPiR7dGltZX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHA+JHthd2F5VGVhbS5uYW1lfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNhdmUtbWF0Y2gtYnRuXCIgaWQ9XCJzYXZlLW1hdGNoXCIgZGF0YS1pZD1cIiR7aWR9XCIgZGF0YS10YXJnZXQ9XCJkZWxldGUtbW9kYWxcIj5cbiAgICAgICAgICAgICAgICAke3BhZ2UgPT09IFwiaG9tZVwiID8gYDxpIGNsYXNzPVwiZmFkIGZhLXNhdmVcIj48L2k+YCA6IGA8aSBjbGFzcz1cImZhZCBmYS10cmFzaFwiPjwvaT5gfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAke3RoaXMubG9hZFVwZGF0ZUJ0bihkYXRlLCBpZCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXJpbmdcIj5cbiAgICAgICAgICAgIDxoNT5OZXh0IE1hdGNoZXM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvZGF5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICR7dGhpcy5fbGlzdC5maWx0ZXIobWF0Y2ggPT4gbWF0Y2guc3RhdHVzICE9PSBcIlBPU1RQT05FRFwiKS5yZWR1Y2UoKGh0bWwsIG1hdGNoKSA9PiBodG1sICsgdGhpcy5jYXJkSXRlbShtYXRjaCksICcnKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBpZD1cImRlbGV0ZS1tb2RhbFwiIGNsYXNzPVwibW9kYWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+UmVtb3ZlIFNhdmVkIE1hdGNoPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIG1hdGNoIGZyb20gS2VlcGVyPzwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJhZ3JlZS1idG5cIiBjbGFzcz1cIm1vZGFsLWNsb3NlIHdhdmVzLWVmZmVjdCB3YXZlcy1ncmVlbiBidG4tZmxhdFwiPlllcDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2FuY2VsLWJ0blwiIGNsYXNzPVwibW9kYWwtY2xvc2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLWdyZWVuIGJ0bi1mbGF0XCI+Tm9wZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG5cbiAgICAgICAgY29uc3QgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpXG5cbiAgICAgICAgaWYgKHBhZ2UgPT09IFwiaG9tZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBhbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2F2ZS1tYXRjaC1idG4nKVxuICAgICAgICAgICAgYWxsQnRuLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FpdFRvYXN0ID0gTS50b2FzdCh7IGh0bWw6IFwiV2FpdCBhIHNlYy4uXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBnZXRNYXRjaChpZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzYXZlTWF0Y2gobWF0Y2gpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUb2FzdC5kaXNtaXNzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYCR7cmVzfWAubWF0Y2goXCJLZXkgYWxyZWFkeSBleGlzdHNcIikpIE0udG9hc3QoeyBodG1sOiBcIk1hdGNoIGFscmVhZHkgc2F2ZWQhXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBNLnRvYXN0KHsgaHRtbDogXCJZb3UgY2FuJ3Qgc2F2ZSB3aGlsZSBvZmZsaW5lIVwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsgaHRtbDogXCJNYXRjaCBzYXZlZCFcIiwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VG9hc3QuZGlzbWlzcygpXG4gICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsgaHRtbDogXCJTb21ldGhpbmcgd2VudCB3cm9uZy4gVHJ5IGFnYWluIGxhdGVyIVwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zYXZlLW1hdGNoLWJ0bicpXG4gICAgICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gTS5Nb2RhbC5pbml0KGVsZW1zKTtcbiAgICAgICAgICAgIGNvbnN0IGFncmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FncmVlLWJ0bicpO1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbC1idG4nKTtcbiAgICAgICAgICAgIGFsbEJ0bi5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZXMub3BlbigpXG4gICAgICAgICAgICAgICAgICAgIGFncmVlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhaXRUb2FzdCA9IE0udG9hc3QoeyBodG1sOiBcIldhaXQgYSBzZWMuLlwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZGVsZXRlTWF0Y2goaWQpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUb2FzdC5kaXNtaXNzKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7IGh0bWw6IFwiTWF0Y2ggZGVsZXRlZCFcIiwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZXMuZGVzdHJveSgpXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3QgdXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXBkYXRlLW1hdGNoLWJ0bicpXG4gICAgICAgICAgICB1cEJ0bi5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJ0bi5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhaXRUb2FzdCA9IE0udG9hc3QoeyBodG1sOiBcIldhaXQgYSBzZWMuLlwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYXdhaXQgZ2V0TWF0Y2goaWQpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLnNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGhvbWVUZWFtLCBhd2F5VGVhbSB9ID0gbWF0Y2guc2NvcmUuZnVsbFRpbWVcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdXBkYXRlTWF0Y2gobWF0Y2gpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUb2FzdC5kaXNtaXNzKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjc2NvcmUtJHtpZH1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUuaW5uZXJIVE1MID0gYOKshu+4jyAke2hvbWVUZWFtID09PSBudWxsID8gMCA6IGhvbWVUZWFtfToke2F3YXlUZWFtID09PSBudWxsID8gMCA6IGF3YXlUZWFtfSDirIfvuI9gXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUb2FzdC5kaXNtaXNzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoeyBodG1sOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBUcnkgYWdhaW4gbGF0ZXIhXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCduZXh0LWVsZW0nLCBOZXh0RWxlbSkiLCJpbXBvcnQgJy4uL2NvbXBvbmVudHMvbmV4dC5qcydcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcblxuY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHtcblxuICAgIGNvbnN0IGxvYWRDb250ZW50ID0gYXN5bmMgKHBhZ2UpID0+IHtcbiAgICAgICAgbGV0IHN0YXRlID0ge1xuICAgICAgICAgICAgY29udGVudDogJydcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGAvc3JjL3BhZ2VzLyR7cGFnZX0uaHRtbGApO1xuXG4gICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuY29udGVudCA9IHJlcy5kYXRhXG4gICAgICAgICAgICAgICAgY29uc3QgX21haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW4tY29udGVudFwiKVxuICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBudWxsLCBgaW5kZXguaHRtbCMke3BhZ2V9YClcblxuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgd2luZG93Lm9ucG9wc3RhdGUgPSBlID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IGUuc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tYWluLmlubmVySFRNTCA9IHN0YXRlLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX21haW4uaW5uZXJIVE1MID0gc3RhdGUuY29udGVudFxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTb21ldGhpbmcgd2VudCB3cm9uZyBvbiBsb2FkIGNvbnRlbnQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNvbWV0aGluZyB3ZW50IHdyb25nIG9uIGxvYWQgY29udGVudCEgJHtlcnJ9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpO1xuXG4gICAgaWYgKHBhZ2UgPT09IFwiXCIpIHBhZ2UgPSBcImhvbWVcIjtcblxuICAgIGF3YWl0IGxvYWRDb250ZW50KHBhZ2UpO1xuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFpbiIsImV4cG9ydCBjb25zdCB1cmxCYXNlNjRUb1VpbnQ4QXJyYXkgPSAoYmFzZTY0U3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTtcbiAgICBjb25zdCBiYXNlNjQgPSAoYmFzZTY0U3RyaW5nICsgcGFkZGluZylcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgJysnKVxuICAgICAgICAucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgIGNvbnN0IHJhd0RhdGEgPSB3aW5kb3cuYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IG91dHB1dEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3RGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICBvdXRwdXRBcnJheVtpXSA9IHJhd0RhdGEuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dEFycmF5O1xufSIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZSdcbmltcG9ydCAnLi4vc2NyaXB0cy9saWJzL2lkYi5qcydcbmltcG9ydCAnLi4vc2NyaXB0cy9zZXJ2aWNlcy9kYXRhYmFzZS5qcydcbmltcG9ydCAnLi4vc3R5bGVzL2FwcC5jc3MnXG5pbXBvcnQgJy4uL3NjcmlwdHMvY29tcG9uZW50cy9uYXYuanMnXG5pbXBvcnQgJy4uL3NjcmlwdHMvY29tcG9uZW50cy9jb21wZXRpdGlvbi5qcydcbmltcG9ydCAnLi4vc2NyaXB0cy9jb21wb25lbnRzL3RlYW0uanMnXG5pbXBvcnQgJy4vY29tcG9uZW50cy9uZXh0LmpzJ1xuaW1wb3J0IG1haW4gZnJvbSAnLi92aWV3L21haW4uanMnXG5pbXBvcnQge3VybEJhc2U2NFRvVWludDhBcnJheX0gZnJvbSAnLi91dGlscy91dGlsaXR5LmpzJ1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgKCgpID0+IHtcbiAgICAgICAgaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgICAgICAgICAgICAgICAgICAucmVnaXN0ZXIoXCIvc2VydmljZS13b3JrZXIuanNcIilcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZXJ2aWNlIFdvcmtlciBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW4oKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcmVnaXN0ZXIgU2VydmljZSBXb3JrZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXG4gICAgICAgICAgICAgICAgICAgIC5yZWdpc3RlcihcIi9kaXN0L3NlcnZpY2Utd29ya2VyLmpzXCIpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRElTVCBTZXJ2aWNlIFdvcmtlciBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1haW4oKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcmVnaXN0ZXIgRElTVCBTZXJ2aWNlIFdvcmtlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlcnZpY2UgV29ya2VyIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdFBlcm1pc3Npb24oKSB7XG4gICAgICAgICAgICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiZGVuaWVkXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90aWZpY2F0aW9uIGJsb2NrZWQgYnkgdXNlciFcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVXNlciBjbG9zZWQgdGhlIHByb21wdCFcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmdldFJlZ2lzdHJhdGlvbigpLnRoZW4oZnVuY3Rpb24ocmVnKSB7XG5cbiAgICAgICAgICAgICAgICByZWcucHVzaE1hbmFnZXIuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogdXJsQmFzZTY0VG9VaW50OEFycmF5KFwiQkdFalRFYWNiLW85UFlFQWsySnpfSGVfQ2J1WVZtNnFwdmJkU3dpNXU4ajhGdjFHRHo3cF9kU01PSzNLYTBiM1ZhazBQejZ5cGRzYV9uclVPMU01UnM0XCIpXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmlwdGlvbiBjb21wbGV0ZWQgd2l0aCBlbmRwb2ludDogJywgc3Vic2NyaWJlLmVuZHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmlwdGlvbiBjb21wbGV0ZWQgd2l0aCBwMjU2ZGgga2V5OiAnLCBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBuZXcgVWludDhBcnJheShzdWJzY3JpYmUuZ2V0S2V5KCdwMjU2ZGgnKSkpKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWJzY3JpcHRpb24gY29tcGxldGVkIHdpdGggYXV0aCBrZXk6ICcsIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIG5ldyBVaW50OEFycmF5KHN1YnNjcmliZS5nZXRLZXkoJ2F1dGgnKSkpKSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdWJzY3JpcHRpb24gY2Fubm90IGJlIGRvbmUgJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vdGlmaWNhdGlvbiBBbGxvd2VkIScpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkoKVxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==