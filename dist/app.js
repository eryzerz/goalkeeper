!function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={2:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([48,1,0]),n()}({10:function(e,t,n){"use strict";var r=n(3);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function i(e){a(c,r,o,i,s,"next",e)}function s(e){a(c,r,o,i,s,"throw",e)}i(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function f(e,t,n){return(f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&h(o,n.prototype),o}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(y,e);var t,n,o,a,l,f,v,m=(t=y,n=p(),function(){var e,r=d(t);if(n){var o=d(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return u(this,e)});function y(){return i(this,y),m.apply(this,arguments)}return o=y,(a=[{key:"connectedCallback",value:(v=c(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),t=new URLSearchParams(window.location.search),n=t.get("code"),e.next=5,this.loadScorer(n);case 5:r=e.sent,this._list=r?r.slice(0,5):r,this._list?this.render():this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the scorers. Please try again in a minute</h5>\n        </div>\n        ';case 8:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container center-column">\n            <h5>Competition Scorers</h5>\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"loadScorer",value:(f=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(r.b)(t.toUpperCase());case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return f.apply(this,arguments)})},{key:"cardItem",value:function(e){var t=e.player,n=e.team,r=e.numberOfGoals;return'\n        <li class="scorer">\n            <div class="collapsible-header scorer-header">'.concat(t.name,'</div>\n            <div class="collapsible-body scorer-body"><span>').concat(r," Goals for ").concat(n.name,"</span></div>\n        </li>\n        ")}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="container center-column">\n            <h5>Scorers</h5>\n            <ul class="collapsible">\n                '.concat(this._list&&this._list.reduce((function(t,n){return t+e.cardItem(n)}),""),"\n            </ul>\n        </div>\n        ");var t=document.querySelectorAll(".collapsible");M.Collapsible.init(t);var n=document.querySelectorAll(".scorer"),r=document.querySelectorAll(".scorer-body");n[0].classList.toggle("active"),r[0].style.display="block"}}])&&s(o.prototype,a),l&&s(o,l),y}(l(HTMLElement));customElements.define("scorer-elem",v)},11:function(e,t,n){"use strict";n(5);var r=n(3),o=n.p+"src/assets/images/crest.png",a=n(4);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,m(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function h(e,t,n){return(h=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&v(o,n.prototype),o}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(g,e);var t,n,c,i,p,h,y,b=(t=g,n=d(),function(){var e,r=m(t);if(n){var o=m(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return f(this,e)});function g(){return u(this,g),b.apply(this,arguments)}return c=g,(i=[{key:"connectedCallback",value:(y=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getTeams();case 3:this._list=e.sent,this._list&&0!==this._list.length?this.render():(t="keeper"===window.location.hash.slice(1),this.innerHTML=t?'\n                <div class="comp-container">\n                    <h5>Teams</h5>\n                    <h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no team saved yet!</h5>\n                </div>\n                ':'\n                <div class="comp-container">\n                    <h5>Competitions</h5>\n                    <div class="carousel">\n                        <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get the teams. Please try again in a minute</h5>\n                    </div>\n                </div>\n                ');case 5:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getTeams",value:(h=s(regeneratorRuntime.mark((function e(){var t,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.location.hash.slice(1)){e.next=16;break}return t=new URLSearchParams(window.location.search),n=t.get("code"),e.prev=4,e.next=7,Object(r.d)(n.toUpperCase());case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",null);case 14:e.next=26;break;case 16:return e.prev=16,e.next=19,Object(a.d)();case 19:return c=e.sent,e.abrupt("return",c);case 23:return e.prev=23,e.t1=e.catch(16),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])}))),function(){return h.apply(this,arguments)})},{key:"carouselItem",value:function(e){return"keeper"===window.location.hash.slice(1)?localStorage.setItem("is-from-keeper",!0):localStorage.setItem("is-from-keeper",!1),'\n        <a class="carousel-item team" href="./team-detail.html?id='.concat(e.id,'">\n            <img class="responsive-img" src="').concat(e.crestUrl,'">\n            <p class="team-name">').concat(e.shortName,"</p>\n        </a>")}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Teams</h5>\n            <div class="carousel">\n                '.concat(this._list&&this._list.reduce((function(t,n){return t+e.carouselItem(n)}),""),"\n            </div>\n        </div>\n        "),document.querySelectorAll("img.responsive-img").forEach((function(e){e.addEventListener("error",(function(){e.setAttribute("src",o)}))}));var t=document.querySelectorAll(".carousel");M.Carousel.init(t)}}])&&l(c.prototype,i),p&&l(c,p),g}(p(HTMLElement));customElements.define("team-elem",y)},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(0),o=n.n(r),a=n(1);function c(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}var s=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[2002,2003,2014,2015,2021],e.prev=1,n=Promise.all(t.map(function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=27;break}return e.next=3,caches.match("https://api.football-data.org/v2/competitions/"+t);case 3:if(!(n=e.sent)){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(t),a.a);case 14:if(200!==(c=e.sent).status){e.next=19;break}return e.abrupt("return",c.data);case 19:return e.abrupt("return",null);case 20:e.next=25;break;case 22:return e.prev=22,e.t0=e.catch(11),e.abrupt("return",null);case 25:e.next=28;break;case 27:console.log("Cache isn't supported in this browser.");case 28:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=23;break}return e.next=3,caches.match("https://api.football-data.org/v2/competitions/"+t+"/teams");case 3:if(!(n=e.sent)){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.teams);case 11:return e.prev=11,e.next=14,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/teams"),a.a);case 14:return c=e.sent,e.abrupt("return",c.data.teams);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",null);case 21:e.next=24;break;case 23:console.log("Cache isn't supported in this browser.");case 24:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=21;break}return e.prev=1,e.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/scorers"),a.a);case 4:return n=e.sent,e.abrupt("return",n.data.scorers);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/competitions/"+t+"/scorers");case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return c=e.sent,e.abrupt("return",c.scorers);case 18:return e.abrupt("return",null);case 19:e.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=21;break}return e.prev=1,e.next=4,o.a.get("https://api.football-data.org/v2/competitions/".concat(t,"/standings"),a.a);case 4:return n=e.sent,e.abrupt("return",n.data.standings[0].table);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/competitions/"+t+"/standings");case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return c=e.sent,e.abrupt("return",c.standings[0].table);case 18:return e.abrupt("return",null);case 19:e.next=22;break;case 21:console.log("Cache isn't supported in this browser.");case 22:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},48:function(e,t,n){"use strict";n.r(t);n(7),n(12);var r=n(4),o=(n(8),n(9),n(5),n(3)),a=n.p+"src/assets/images/bundesliga.png",c=n.p+"src/assets/images/eredivise.png",i=n.p+"src/assets/images/laliga.png",s=n.p+"src/assets/images/ligue.png",u=n.p+"src/assets/images/premier-league.png";n(10);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){d(a,r,o,c,i,"next",e)}function i(e){d(a,r,o,c,i,"throw",e)}c(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return w(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)})(e)}function w(e,t,n){return(w=x()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&k(o,n.prototype),o}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S={BL1:a,DED:c,PD:i,FL1:s,PL:u},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(l,e);var t,n,r,a,c,i,s,u=(t=l,n=x(),function(){var e,r=O(t);if(n){var o=O(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return b(this,e)});function l(){return m(this,l),u.apply(this,arguments)}return r=l,(a=[{key:"connectedCallback",value:(s=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getCompetitions();case 3:this._list=e.sent,this._list.includes(null)?this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get all competitions. Please try again in a minute</h5>\n            </div>\n        </div>\n        ':this.render();case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getCompetitions",value:(i=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loading=!0,e.prev=1,e.next=4,Object(o.a)();case 4:return t=e.sent,this._loading=!1,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(1),this._loading=!1,e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(){return i.apply(this,arguments)})},{key:"carouselItem",value:function(e){var t=p(p({},e),{},{emblemUrl:S[e.code]});return'<a class="carousel-item" href="./competition-detail.html?code='.concat(e.code.toLowerCase(),'"><img class="responsive-img" src="').concat(t.emblemUrl,'"></a>')}},{key:"render",value:function(){var e=this;this.innerHTML='\n        <div class="comp-container">\n            <h5>Competitions</h5>\n            <div class="carousel">\n                '.concat(this._list.reduce((function(t,n){return t+e.carouselItem(n)}),""),"\n            </div>\n        </div>\n        ");var t=document.querySelectorAll(".carousel");M.Carousel.init(t)}}])&&y(r.prototype,a),c&&y(r,c),l}(g(HTMLElement));customElements.define("comp-elem",R);n(11);var j=n(0),P=n.n(j),_=n(1);function T(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){T(a,r,o,c,i,"next",e)}function i(e){T(a,r,o,c,i,"throw",e)}c(void 0)}))}}var L=function(){var e=E(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=19;break}return e.prev=1,e.next=4,P.a.get("https://api.football-data.org/v2/matches?status=SCHEDULED",_.a);case 4:return t=e.sent,e.abrupt("return",t.data.matches);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/matches?status=SCHEDULED");case 12:if(!(n=e.sent)){e.next=18;break}return e.next=16,n.json();case 16:return r=e.sent,e.abrupt("return",r.matches);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=19;break}return e.prev=1,e.next=4,P.a.get("https://api.football-data.org/v2/matches/".concat(t),_.a);case 4:return n=e.sent,e.abrupt("return",n.data.match);case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,caches.match("https://api.football-data.org/v2/matches/"+t);case 12:if(!(r=e.sent)){e.next=18;break}return e.next=16,r.json();case 16:return o=e.sent,e.abrupt("return",o.match);case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){H(a,r,o,c,i,"next",e)}function i(e){H(a,r,o,c,i,"throw",e)}c(void 0)}))}}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){var t="function"==typeof Map?new Map:void 0;return(F=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return N(e,arguments,B(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),K(r,e)})(e)}function N(e,t,n){return(N=W()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&K(o,n.prototype),o}).apply(null,arguments)}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(l,e);var t,n,o,a,c,i,s,u=(t=l,n=W(),function(){var e,r=B(t);if(n){var o=B(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return I(this,e)});function l(){return q(this,l),u.apply(this,arguments)}return o=l,(a=[{key:"connectedCallback",value:(s=A(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.getMatches();case 3:this._list=e.sent,t=window.location.hash.slice(1),this._list&&0!==this._list.length?this.render():this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n            '.concat("home"===t?'<h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get all matches. Please try again in a minute</h5>':'<h5 style="text-align: center; font-family: var(--font-tertiary);">There\'s no match saved yet!</h5>',"\n            </div>\n        </div>\n        ");case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n                <div class="progress"><div class="indeterminate"></div></div>\n            </div>\n        </div>\n        '}},{key:"getMatches",value:(i=A(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("home"!==window.location.hash.slice(1)){e.next=14;break}return e.prev=2,e.next=5,L();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0);case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,Object(r.c)();case 17:return n=e.sent,e.abrupt("return",n);case 21:return e.prev=21,e.t1=e.catch(14),e.abrupt("return",e.t1);case 24:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])}))),function(){return i.apply(this,arguments)})},{key:"loadUpdateBtn",value:function(e,t){var n=window.location.hash.slice(1),r=new Date;return"keeper"===n&&r>e?'<div class="update-match-btn" id="update-match" data-id="'.concat(t,'">\n                <i class="fad fa-sync"></i>\n            </div>'):""}},{key:"cardItem",value:function(e){var t=e.id,n=e.homeTeam,r=e.awayTeam,o=e.utcDate,a=new Date(o),c=[a.getHours().toLocaleString(),1===a.getMinutes().toLocaleString().length?"0"+a.getMinutes().toLocaleString():a.getMinutes().toLocaleString()],i=c[0]+":"+c[1],s=window.location.hash.slice(1);return'\n        <div class="today-card">\n            <div>\n                <p>'.concat(n.name,'</p>\n            </div>\n            <div class="score">\n                <p id="score-').concat(t,'">').concat(i,"</p>\n            </div>\n            <div>\n                <p>").concat(r.name,'</p>\n            </div>\n            <div class="save-match-btn" id="save-match" data-id="').concat(t,'" data-target="delete-modal">\n                ').concat("home"===s?'<i class="fad fa-save"></i>':'<i class="fad fa-trash"></i>',"\n            </div>\n            ").concat(this.loadUpdateBtn(a,t),"\n        </div>\n        ")}},{key:"render",value:function(){var e=this;if(this.innerHTML='\n        <div class="container centering">\n            <h5>Next Matches</h5>\n            <div class="today-container">\n                '.concat(this._list.filter((function(e){return"POSTPONED"!==e.status})).reduce((function(t,n){return t+e.cardItem(n)}),""),'\n            </div>\n            <div id="delete-modal" class="modal">\n                <div class="modal-content">\n                    <h4>Remove Saved Match</h4>\n                    <p>Are you sure you want to remove this match from Keeper?</p>\n                </div>\n                <div class="modal-footer">\n                    <button id="agree-btn" class="modal-close waves-effect waves-green btn-flat">Yep</button>\n                    <button id="cancel-btn" class="modal-close waves-effect waves-green btn-flat">Nope</button>\n                </div>\n            </div>\n        </div>\n        '),"home"===window.location.hash.slice(1))document.querySelectorAll(".save-match-btn").forEach((function(e){e.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,o,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),o=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,C(n);case 4:if(!(a=t.sent)){t.next=13;break}return t.next=8,Object(r.e)(a);case 8:c=t.sent,o.dismiss(),c?"".concat(c).match("Key already exists")?M.toast({html:"Match already saved!",classes:"save-toast"}):M.toast({html:"You can't save while offline!",classes:"save-toast"}):M.toast({html:"Match saved!",classes:"save-toast"}),t.next=15;break;case 13:o.dismiss(),M.toast({html:"Something went wrong. Try again later!",classes:"save-toast"});case 15:case"end":return t.stop()}}),t)}))))}));else{var t=document.querySelectorAll(".save-match-btn"),n=document.querySelector(".modal"),o=M.Modal.init(n),a=document.querySelector("#agree-btn");document.querySelector("#cancel-btn"),t.forEach((function(e){e.addEventListener("click",(function(){o.open(),a.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),a=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,Object(r.a)(n);case 4:t.sent,a.dismiss(),M.toast({html:"Match deleted!",classes:"save-toast"}),window.location.reload(),o.destroy();case 9:case"end":return t.stop()}}),t)}))))}))})),document.querySelectorAll(".update-match-btn").forEach((function(e){e.addEventListener("click",A(regeneratorRuntime.mark((function t(){var n,o,a,c,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getAttribute("data-id"),o=M.toast({html:"Wait a sec..",classes:"save-toast"}),t.next=4,C(n);case 4:if(!(a=t.sent)||!a.score){t.next=15;break}return c=a.score.fullTime,i=c.homeTeam,s=c.awayTeam,t.next=9,Object(r.g)(a);case 9:t.sent,o.dismiss(),document.querySelector("#score-".concat(n)).innerHTML="⬆️ ".concat(null===i?0:i,":").concat(null===s?0:s," ⬇️"),t.next=17;break;case 15:o.dismiss(),M.toast({html:"Something went wrong. Try again later!",classes:"save-toast"});case 17:case"end":return t.stop()}}),t)}))))}))}}}])&&U(o.prototype,a),c&&U(o,c),l}(F(HTMLElement));function Y(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){Y(a,r,o,c,i,"next",e)}function i(e){Y(a,r,o,c,i,"throw",e)}c(void 0)}))}}customElements.define("next-elem",G);var J=function(){var e=z(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=z(regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:""},r="/dist/src/pages/".concat(t,".html"),e.prev=2,e.next=5,P.a.get(r);case 5:200===(o=e.sent).status?(n.content=o.data,a=document.querySelector("#main-content"),history.pushState(n,null,"index.html#".concat(t)),window.onpopstate=function(e){e.state&&(n=e.state,a.innerHTML=n.content)},a.innerHTML=n.content):console.error("Something went wrong on load content!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Something went wrong on load content! ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),""===(n=window.location.hash.slice(1))&&(n="home"),e.next=5,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r};document.addEventListener("DOMContentLoaded",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/dist/service-worker.js").then((function(){console.log("DIST Service Worker successfully registered"),"Notification"in window&&Notification.requestPermission().then((function(e){"denied"!==e?"default"!==e?navigator.serviceWorker.getRegistration().then((function(e){e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:V("BGEjTEacb-o9PYEAk2Jz_He_CbuYVm6qpvbdSwi5u8j8Fv1GDz7p_dSMOK3Ka0b3Vak0Pz6ypdsa_nrUO1M5Rs4")}).then((function(e){console.log("Subscription completed with endpoint: ",e.endpoint),console.log("Subscription completed with p256dh key: ",btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("p256dh"))))),console.log("Subscription completed with auth key: ",btoa(String.fromCharCode.apply(null,new Uint8Array(e.getKey("auth")))))})).catch((function(e){console.error("Subscription cannot be done ",e.message)})),console.log("Notification Allowed!")})):console.error("User closed the prompt!"):console.log("Notification blocked by user!")})),J()})).catch((function(){console.log("Failed to register DIST Service Worker")})):console.log("Service Worker isn't supported in this browser.")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9zY29yZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvY3Jlc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvdGVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9idW5kZXNsaWdhLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2ltYWdlcy9lcmVkaXZpc2UucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL2xhbGlnYS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9pbWFnZXMvbGlndWUucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvaW1hZ2VzL3ByZW1pZXItbGVhZ3VlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL2NvbXBldGl0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3NlcnZpY2VzL21hdGNoLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvbmV4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXRpbHMvdXRpbGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHAuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIyIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJTY29yZXJFbGVtIiwidGhpcyIsImxvYWRpbmciLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImNvZGUiLCJsb2FkU2NvcmVyIiwic2NvcmVycyIsIl9saXN0IiwicmVuZGVyIiwiaW5uZXJIVE1MIiwiZ2V0Q29tcGV0aXRpb25TY29yZXJzIiwidG9VcHBlckNhc2UiLCJyZXMiLCJzY29yZXIiLCJwbGF5ZXIiLCJ0ZWFtIiwibnVtYmVyT2ZHb2FscyIsInJlZHVjZSIsImh0bWwiLCJjYXJkSXRlbSIsImVsZW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiTSIsIkNvbGxhcHNpYmxlIiwiaW5pdCIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJzdHlsZSIsImRpc3BsYXkiLCJIVE1MRWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiVGVhbUVsZW0iLCJnZXRUZWFtcyIsImlzRnJvbVNhdmVkIiwiaGFzaCIsImdldFRlYW1zSW5BQ29tcGV0aXRpb24iLCJ0ZWFtcyIsImdldEFsbFRlYW1zIiwic2F2ZWQiLCJpdGVtIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImlkIiwiY3Jlc3RVcmwiLCJzaG9ydE5hbWUiLCJjYXJvdXNlbEl0ZW0iLCJmb3JFYWNoIiwiZWxlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRBdHRyaWJ1dGUiLCJjcmVzdCIsIkNhcm91c2VsIiwiZ2V0QWxsQ29tcGV0aXRpb25zIiwiY29tcF9pZCIsInJlc19saXN0IiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNhY2hlcyIsIm1hdGNoIiwianNvbiIsImF4aW9zIiwiY29uZmlnIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q29tcGV0aXRpb25TdGFuZGluZ3MiLCJzdGFuZGluZ3MiLCJ0YWJsZSIsImVtYmxlbSIsIkJMMSIsImJ1bmRlc2xpZ2EiLCJERUQiLCJlcmVkaXZpc2UiLCJQRCIsImxhbGlnYSIsIkZMMSIsImxpZ3VlIiwiUEwiLCJwbCIsIkNvbXBldGl0aW9uRWxlbSIsImdldENvbXBldGl0aW9ucyIsImluY2x1ZGVzIiwiX2xvYWRpbmciLCJjb21wIiwibmV3SXRlbSIsImVtYmxlbVVybCIsInRvTG93ZXJDYXNlIiwiZ2V0TmV4dE1hdGNoZXMiLCJtYXRjaGVzIiwiZ2V0TWF0Y2giLCJOZXh0RWxlbSIsImdldE1hdGNoZXMiLCJwYWdlIiwidG9kYXlNYXRjaGVzIiwiZ2V0QWxsTWF0Y2hlcyIsImRhdGUiLCJub3ciLCJEYXRlIiwiaG9tZVRlYW0iLCJhd2F5VGVhbSIsInV0Y0RhdGUiLCJnZXRIb3VycyIsInRvTG9jYWxlU3RyaW5nIiwiZ2V0TWludXRlcyIsInRpbWUiLCJsb2FkVXBkYXRlQnRuIiwiZmlsdGVyIiwiYnRuIiwiZ2V0QXR0cmlidXRlIiwid2FpdFRvYXN0IiwidG9hc3QiLCJjbGFzc2VzIiwic2F2ZU1hdGNoIiwiZGlzbWlzcyIsImFsbEJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJpbnN0YW5jZXMiLCJNb2RhbCIsImFncmVlIiwib3BlbiIsImRlbGV0ZU1hdGNoIiwicmVsb2FkIiwiZGVzdHJveSIsInNjb3JlIiwiZnVsbFRpbWUiLCJ1cGRhdGVNYXRjaCIsIm1haW4iLCJsb2FkQ29udGVudCIsInN0YXRlIiwiY29udGVudCIsInVybCIsIl9tYWluIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIm9ucG9wc3RhdGUiLCJlIiwiZXJyb3IiLCJ1cmxCYXNlNjRUb1VpbnQ4QXJyYXkiLCJiYXNlNjRTdHJpbmciLCJiYXNlNjQiLCJyZXBlYXQiLCJyZXBsYWNlIiwicmF3RGF0YSIsImF0b2IiLCJvdXRwdXRBcnJheSIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwidGhlbiIsIk5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwiZ2V0UmVnaXN0cmF0aW9uIiwicmVnIiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsImVuZHBvaW50IiwiYnRvYSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImdldEtleSIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FDbkJLLEVBQWlCTCxFQUFLLEdBSUhNLEVBQUksRUFBR0MsRUFBVyxHQUNwQ0QsRUFBSUgsRUFBU0ssT0FBUUYsSUFDekJKLEVBQVVDLEVBQVNHLEdBQ2hCRyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLQyxFQUFpQlgsSUFBWVcsRUFBZ0JYLElBQ3BGSyxFQUFTTyxLQUFLRCxFQUFnQlgsR0FBUyxJQUV4Q1csRUFBZ0JYLEdBQVcsRUFFNUIsSUFBSUQsS0FBWUcsRUFDWkssT0FBT0MsVUFBVUMsZUFBZUMsS0FB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RCxRQUFReUUsTUFBTSwyQkFIZHpFLFFBQVFDLElBQUksb0NBZE44RCxPQUxSLE9BT1csV0FDSC9ELFFBQVFDLElBQUksNkNBSXhCRCxRQUFRQyxJQUFJIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MjogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbNDgsMSwwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCB7IGdldENvbXBldGl0aW9uU2NvcmVycyB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbXBldGl0aW9uLmpzJ1xuXG5jbGFzcyBTY29yZXJFbGVtIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMubG9hZGluZygpXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBwYXJhbXMuZ2V0KCdjb2RlJylcbiAgICAgICAgY29uc3Qgc2NvcmVycyA9IGF3YWl0IHRoaXMubG9hZFNjb3Jlcihjb2RlKVxuICAgICAgICB0aGlzLl9saXN0ID0gc2NvcmVycyA/IHNjb3JlcnMuc2xpY2UoMCwgNSkgOiBzY29yZXJzXG5cbiAgICAgICAgaWYgKHRoaXMuX2xpc3QpIHRoaXMucmVuZGVyKClcbiAgICAgICAgZWxzZSB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXItY29sdW1uXCI+XG4gICAgICAgICAgICA8aDU+U2NvcmVyczwvaDU+XG4gICAgICAgICAgICA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5Pb3BzLi4gY2Fubm90IGdldCB0aGUgc2NvcmVycy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgbG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXIgY2VudGVyLWNvbHVtblwiPlxuICAgICAgICAgICAgPGg1PkNvbXBldGl0aW9uIFNjb3JlcnM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzXCI+PGRpdiBjbGFzcz1cImluZGV0ZXJtaW5hdGVcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2NvcmVyKGNvZGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldENvbXBldGl0aW9uU2NvcmVycyhjb2RlLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgICAgICByZXR1cm4gcmVzXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYXJkSXRlbShzY29yZXIpIHtcbiAgICAgICAgY29uc3QgeyBwbGF5ZXIsIHRlYW0sIG51bWJlck9mR29hbHMgfSA9IHNjb3JlclxuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxsaSBjbGFzcz1cInNjb3JlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNpYmxlLWhlYWRlciBzY29yZXItaGVhZGVyXCI+JHtwbGF5ZXIubmFtZX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzaWJsZS1ib2R5IHNjb3Jlci1ib2R5XCI+PHNwYW4+JHtudW1iZXJPZkdvYWxzfSBHb2FscyBmb3IgJHt0ZWFtLm5hbWV9PC9zcGFuPjwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXItY29sdW1uXCI+XG4gICAgICAgICAgICA8aDU+U2NvcmVyczwvaDU+XG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJjb2xsYXBzaWJsZVwiPlxuICAgICAgICAgICAgICAgICR7dGhpcy5fbGlzdCAmJiB0aGlzLl9saXN0LnJlZHVjZSgoaHRtbCwgc2NvcmVyKSA9PiBodG1sICsgdGhpcy5jYXJkSXRlbShzY29yZXIpLCAnJyl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuXG4gICAgICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbGxhcHNpYmxlJyk7XG4gICAgICAgIE0uQ29sbGFwc2libGUuaW5pdChlbGVtcyk7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY29yZXInKVxuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjb3Jlci1ib2R5JylcblxuICAgICAgICBzY29yZXJzWzBdLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXG4gICAgICAgIGJvZHlbMF0uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NvcmVyLWVsZW0nLCBTY29yZXJFbGVtKSIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJzcmMvYXNzZXRzL2ltYWdlcy9jcmVzdC5wbmdcIjsiLCJpbXBvcnQgJy4uL3ZpZXcvbWF0ZXJpYWxpemUubWluLmpzJ1xuaW1wb3J0IHsgZ2V0VGVhbXNJbkFDb21wZXRpdGlvbiB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jb21wZXRpdGlvbi5qc1wiXG5pbXBvcnQgY3Jlc3QgZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9jcmVzdC5wbmcnXG5pbXBvcnQgeyBnZXRBbGxUZWFtcyB9IGZyb20gJy4uL3NlcnZpY2VzL2RhdGFiYXNlLmpzJ1xuXG5jbGFzcyBUZWFtRWxlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcoKVxuICAgICAgICB0aGlzLl9saXN0ID0gYXdhaXQgdGhpcy5nZXRUZWFtcygpXG5cbiAgICAgICAgaWYgKHRoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5sZW5ndGggIT09IDApIHRoaXMucmVuZGVyKClcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpc0Zyb21TYXZlZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpID09PSBcImtlZXBlclwiID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc0Zyb21TYXZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDU+VGVhbXM8L2g1PlxuICAgICAgICAgICAgICAgICAgICA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5UaGVyZSdzIG5vIHRlYW0gc2F2ZWQgeWV0ITwvaDU+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg1PkNvbXBldGl0aW9uczwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+T29wcy4uIGNhbm5vdCBnZXQgdGhlIHRlYW1zLiBQbGVhc2UgdHJ5IGFnYWluIGluIGEgbWludXRlPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGg1PlRlYW1zPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJpbmRldGVybWluYXRlXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBhc3luYyBnZXRUZWFtcygpIHtcbiAgICAgICAgbGV0IHBhZ2UgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghcGFnZSkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXJhbXMuZ2V0KCdjb2RlJylcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVhbXMgPSBhd2FpdCBnZXRUZWFtc0luQUNvbXBldGl0aW9uKGNvZGUudG9VcHBlckNhc2UoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVhbXNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBzYXZlZCA9IGF3YWl0IGdldEFsbFRlYW1zKClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNhcm91c2VsSXRlbShpdGVtKSB7XG4gICAgICAgIGxldCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSk7XG4gICAgICAgIGlmIChwYWdlID09PSBcImtlZXBlclwiKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXMtZnJvbS1rZWVwZXInLCB0cnVlKVxuICAgICAgICBlbHNlIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpcy1mcm9tLWtlZXBlcicsIGZhbHNlKVxuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxhIGNsYXNzPVwiY2Fyb3VzZWwtaXRlbSB0ZWFtXCIgaHJlZj1cIi4vdGVhbS1kZXRhaWwuaHRtbD9pZD0ke2l0ZW0uaWR9XCI+XG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwicmVzcG9uc2l2ZS1pbWdcIiBzcmM9XCIke2l0ZW0uY3Jlc3RVcmx9XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRlYW0tbmFtZVwiPiR7aXRlbS5zaG9ydE5hbWV9PC9wPlxuICAgICAgICA8L2E+YFxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGg1PlRlYW1zPC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbFwiPlxuICAgICAgICAgICAgICAgICR7dGhpcy5fbGlzdCAmJiB0aGlzLl9saXN0LnJlZHVjZSgoaHRtbCwgaXRlbSkgPT4gaHRtbCArIHRoaXMuY2Fyb3VzZWxJdGVtKGl0ZW0pLCAnJyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbWcucmVzcG9uc2l2ZS1pbWcnKTtcblxuICAgICAgICBpbWcuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGNyZXN0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cblxuICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbCcpO1xuICAgICAgICBNLkNhcm91c2VsLmluaXQoZWxlbXMpO1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCd0ZWFtLWVsZW0nLCBUZWFtRWxlbSkiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzJ1xuXG5leHBvcnQgY29uc3QgZ2V0QWxsQ29tcGV0aXRpb25zID0gYXN5bmMgKCkgPT4ge1xuXG4gICAgY29uc3QgY29tcF9pZCA9IFsyMDAyLCAyMDAzLCAyMDE0LCAyMDE1LCAyMDIxXVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzX2xpc3QgPSBQcm9taXNlLmFsbChjb21wX2lkLm1hcChhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNhY2hlcy5tYXRjaChcImh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL1wiICsgXCJjb21wZXRpdGlvbnMvXCIgKyBpZClcbiAgICAgICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9jb21wZXRpdGlvbnMvJHtpZH1gLCBjb25maWcpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSlcblxuICAgICAgICByZXR1cm4gcmVzX2xpc3RcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGVyclxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldFRlYW1zSW5BQ29tcGV0aXRpb24gPSBhc3luYyAoY29tcF9pZCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgY29tcF9pZCArIFwiL3RlYW1zXCIpXG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgICAgICByZXR1cm4gZGF0YS50ZWFtc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL2NvbXBldGl0aW9ucy8ke2NvbXBfaWR9L3RlYW1zYCwgY29uZmlnKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS50ZWFtc1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FjaGUgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wZXRpdGlvblNjb3JlcnMgPSBhc3luYyAoY29tcF9pZCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9jb21wZXRpdGlvbnMvJHtjb21wX2lkfS9zY29yZXJzYCwgY29uZmlnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEuc2NvcmVyc1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNhY2hlcy5tYXRjaChcImh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL1wiICsgXCJjb21wZXRpdGlvbnMvXCIgKyBjb21wX2lkICsgXCIvc2NvcmVyc1wiKVxuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc2NvcmVyc1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhY2hlIGlzbid0IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGV0aXRpb25TdGFuZGluZ3MgPSBhc3luYyAoY29tcF9pZCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9jb21wZXRpdGlvbnMvJHtjb21wX2lkfS9zdGFuZGluZ3NgLCBjb25maWcpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YS5zdGFuZGluZ3NbMF0udGFibGVcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9cIiArIFwiY29tcGV0aXRpb25zL1wiICsgY29tcF9pZCArIFwiL3N0YW5kaW5nc1wiKVxuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc3RhbmRpbmdzWzBdLnRhYmxlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvYnVuZGVzbGlnYS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwic3JjL2Fzc2V0cy9pbWFnZXMvZXJlZGl2aXNlLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJzcmMvYXNzZXRzL2ltYWdlcy9sYWxpZ2EucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcInNyYy9hc3NldHMvaW1hZ2VzL2xpZ3VlLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJzcmMvYXNzZXRzL2ltYWdlcy9wcmVtaWVyLWxlYWd1ZS5wbmdcIjsiLCJpbXBvcnQgJy4uL3ZpZXcvbWF0ZXJpYWxpemUubWluLmpzJ1xuaW1wb3J0IHsgZ2V0QWxsQ29tcGV0aXRpb25zIH0gZnJvbSAnLi4vc2VydmljZXMvY29tcGV0aXRpb24uanMnXG5pbXBvcnQgYnVuZGVzbGlnYSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2J1bmRlc2xpZ2EucG5nJ1xuaW1wb3J0IGVyZWRpdmlzZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2VyZWRpdmlzZS5wbmcnXG5pbXBvcnQgbGFsaWdhIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvbGFsaWdhLnBuZydcbmltcG9ydCBsaWd1ZSBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2xpZ3VlLnBuZydcbmltcG9ydCBwbCBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL3ByZW1pZXItbGVhZ3VlLnBuZydcbmltcG9ydCAnLi9zY29yZXIuanMnXG5cbmxldCBzdGF0ZSA9IHtcbiAgICBjb250ZW50OiAnJ1xufVxuXG5jb25zdCBlbWJsZW0gPSB7XG4gICAgQkwxOiBidW5kZXNsaWdhLFxuICAgIERFRDogZXJlZGl2aXNlLFxuICAgIFBEOiBsYWxpZ2EsXG4gICAgRkwxOiBsaWd1ZSxcbiAgICBQTDogcGxcbn1cblxuY2xhc3MgQ29tcGV0aXRpb25FbGVtIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxvYWRpbmcoKVxuICAgICAgICB0aGlzLl9saXN0ID0gYXdhaXQgdGhpcy5nZXRDb21wZXRpdGlvbnMoKVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2xpc3QuaW5jbHVkZXMobnVsbCkpIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxoNT5Db21wZXRpdGlvbnM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsXCI+XG4gICAgICAgICAgICAgICAgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+T29wcy4uIGNhbm5vdCBnZXQgYWxsIGNvbXBldGl0aW9ucy4gUGxlYXNlIHRyeSBhZ2FpbiBpbiBhIG1pbnV0ZTwvaDU+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICAgZWxzZSB0aGlzLnJlbmRlcigpXG4gICAgfVxuXG4gICAgbG9hZGluZygpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGg1PkNvbXBldGl0aW9uczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q29tcGV0aXRpb25zKCkge1xuICAgICAgICB0aGlzLl9sb2FkaW5nID0gdHJ1ZVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY29tcCA9IGF3YWl0IGdldEFsbENvbXBldGl0aW9ucygpXG4gICAgICAgICAgICB0aGlzLl9sb2FkaW5nID0gZmFsc2VcbiAgICAgICAgICAgIHJldHVybiBjb21wXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGluZyA9IGZhbHNlXG4gICAgICAgICAgICByZXR1cm4gZXJyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYXJvdXNlbEl0ZW0oaXRlbSkge1xuXG4gICAgICAgIGNvbnN0IG5ld0l0ZW0gPSB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgZW1ibGVtVXJsOiBlbWJsZW1baXRlbS5jb2RlXVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGA8YSBjbGFzcz1cImNhcm91c2VsLWl0ZW1cIiBocmVmPVwiLi9jb21wZXRpdGlvbi1kZXRhaWwuaHRtbD9jb2RlPSR7aXRlbS5jb2RlLnRvTG93ZXJDYXNlKCl9XCI+PGltZyBjbGFzcz1cInJlc3BvbnNpdmUtaW1nXCIgc3JjPVwiJHtuZXdJdGVtLmVtYmxlbVVybH1cIj48L2E+YFxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb21wLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGg1PkNvbXBldGl0aW9uczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWxcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2xpc3QucmVkdWNlKChodG1sLCBpdGVtKSA9PiBodG1sICsgdGhpcy5jYXJvdXNlbEl0ZW0oaXRlbSksICcnKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuXG4gICAgICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcm91c2VsJyk7XG4gICAgICAgIE0uQ2Fyb3VzZWwuaW5pdChlbGVtcyk7XG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2NvbXAtZWxlbScsIENvbXBldGl0aW9uRWxlbSkiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnLmpzJ1xuXG5leHBvcnQgY29uc3QgZ2V0TmV4dE1hdGNoZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKFwiY2FjaGVzXCIgaW4gd2luZG93KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL21hdGNoZXM/c3RhdHVzPVNDSEVEVUxFRGAsIGNvbmZpZylcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLm1hdGNoZXNcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9tYXRjaGVzP3N0YXR1cz1TQ0hFRFVMRURcIilcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLm1hdGNoZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRNYXRjaCA9IGFzeW5jIChpZCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9tYXRjaGVzLyR7aWR9YCwgY29uZmlnKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEubWF0Y2hcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goXCJodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi9tYXRjaGVzL1wiICsgaWQpXG4gICAgICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5tYXRjaFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgJy4uL3ZpZXcvbWF0ZXJpYWxpemUubWluLmpzJ1xuaW1wb3J0IHsgZ2V0TmV4dE1hdGNoZXMsIGdldE1hdGNoIH0gZnJvbSAnLi4vc2VydmljZXMvbWF0Y2guanMnXG5pbXBvcnQgeyBzYXZlTWF0Y2gsIGdldEFsbE1hdGNoZXMsIGRlbGV0ZU1hdGNoLCB1cGRhdGVNYXRjaCB9IGZyb20gJy4uL3NlcnZpY2VzL2RhdGFiYXNlLmpzJ1xuXG5jbGFzcyBOZXh0RWxlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgIFxuICAgICAgICB0aGlzLmxvYWRpbmcoKVxuICAgICAgICB0aGlzLl9saXN0ID0gYXdhaXQgdGhpcy5nZXRNYXRjaGVzKClcbiAgICAgICBcbiAgICAgICAgY29uc3QgcGFnZSA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpXG5cbiAgICAgICAgaWYgKHRoaXMuX2xpc3QgJiYgdGhpcy5fbGlzdC5sZW5ndGggIT09IDApIHRoaXMucmVuZGVyKClcbiAgICAgICAgZWxzZSB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXJpbmdcIj5cbiAgICAgICAgICAgIDxoNT5OZXh0IE1hdGNoZXM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvZGF5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgJHtwYWdlID09PSBcImhvbWVcIiA/XG4gICAgICAgICAgICAgICAgYDxoNSBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtdGVydGlhcnkpO1wiPk9vcHMuLiBjYW5ub3QgZ2V0IGFsbCBtYXRjaGVzLiBQbGVhc2UgdHJ5IGFnYWluIGluIGEgbWludXRlPC9oNT5gXG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIGA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5UaGVyZSdzIG5vIG1hdGNoIHNhdmVkIHlldCE8L2g1PmB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBsb2FkaW5nKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciBjZW50ZXJpbmdcIj5cbiAgICAgICAgICAgIDxoNT5OZXh0IE1hdGNoZXM8L2g1PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvZGF5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJpbmRldGVybWluYXRlXCI+PC9kaXY+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBhc3luYyBnZXRNYXRjaGVzKCkge1xuICAgICAgICBjb25zdCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSlcblxuICAgICAgICBpZiAocGFnZSA9PT0gXCJob21lXCIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9kYXlNYXRjaGVzID0gYXdhaXQgZ2V0TmV4dE1hdGNoZXMoKVxuICAgICAgICAgICAgICAgIHJldHVybiB0b2RheU1hdGNoZXNcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9kYXlNYXRjaGVzID0gYXdhaXQgZ2V0QWxsTWF0Y2hlcygpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvZGF5TWF0Y2hlc1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyclxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBsb2FkVXBkYXRlQnRuIHRvIG1ha2UgY29uZGl0aW9uYWwgZGlzcGxheSB0byBzeW5jaHJvbml6ZSBidXR0b25cbiAgICAvLyBTeW5jaHJvbml6aW5nIG1hdGNoIG9ubHkgYXZhaWxhYmxlIHdoZW4gdGhlIG1hdGNoIGFscmVhZHkgaW4gcGxheSBvciBkb25lXG4gICAgLy8gU28sIHVzZXIgY2FuIHNlZSBzY29yZSBpbiBLZWVwZXJcbiAgICBsb2FkVXBkYXRlQnRuKGRhdGUsIGlkKSB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgICAgIGNvbnN0IGtpY2tPZmYgPSBkYXRlXG5cbiAgICAgICAgaWYgKHBhZ2UgPT09IFwia2VlcGVyXCIgJiYgbm93ID4ga2lja09mZikge1xuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwidXBkYXRlLW1hdGNoLWJ0blwiIGlkPVwidXBkYXRlLW1hdGNoXCIgZGF0YS1pZD1cIiR7aWR9XCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWQgZmEtc3luY1wiPjwvaT5cbiAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgYFxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjYXJkSXRlbShtYXRjaCkge1xuICAgICAgICBjb25zdCB7IGlkLCBob21lVGVhbSwgYXdheVRlYW0sIHV0Y0RhdGUgfSA9IG1hdGNoXG5cbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHV0Y0RhdGUpXG4gICAgICAgIGNvbnN0IFtob3VyLCBtaW5dID0gW2RhdGUuZ2V0SG91cnMoKS50b0xvY2FsZVN0cmluZygpLCBkYXRlLmdldE1pbnV0ZXMoKS50b0xvY2FsZVN0cmluZygpLmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgZGF0ZS5nZXRNaW51dGVzKCkudG9Mb2NhbGVTdHJpbmcoKSA6IGRhdGUuZ2V0TWludXRlcygpLnRvTG9jYWxlU3RyaW5nKCldXG4gICAgICAgIGNvbnN0IHRpbWUgPSBob3VyICsgXCI6XCIgKyBtaW5cblxuICAgICAgICBjb25zdCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSlcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidG9kYXktY2FyZFwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cD4ke2hvbWVUZWFtLm5hbWV9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2NvcmVcIj5cbiAgICAgICAgICAgICAgICA8cCBpZD1cInNjb3JlLSR7aWR9XCI+JHt0aW1lfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8cD4ke2F3YXlUZWFtLm5hbWV9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2F2ZS1tYXRjaC1idG5cIiBpZD1cInNhdmUtbWF0Y2hcIiBkYXRhLWlkPVwiJHtpZH1cIiBkYXRhLXRhcmdldD1cImRlbGV0ZS1tb2RhbFwiPlxuICAgICAgICAgICAgICAgICR7cGFnZSA9PT0gXCJob21lXCIgPyBgPGkgY2xhc3M9XCJmYWQgZmEtc2F2ZVwiPjwvaT5gIDogYDxpIGNsYXNzPVwiZmFkIGZhLXRyYXNoXCI+PC9pPmB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICR7dGhpcy5sb2FkVXBkYXRlQnRuKGRhdGUsIGlkKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGNlbnRlcmluZ1wiPlxuICAgICAgICAgICAgPGg1Pk5leHQgTWF0Y2hlczwvaDU+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9kYXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl9saXN0LmZpbHRlcihtYXRjaCA9PiBtYXRjaC5zdGF0dXMgIT09IFwiUE9TVFBPTkVEXCIpLnJlZHVjZSgoaHRtbCwgbWF0Y2gpID0+IGh0bWwgKyB0aGlzLmNhcmRJdGVtKG1hdGNoKSwgJycpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiZGVsZXRlLW1vZGFsXCIgY2xhc3M9XCJtb2RhbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoND5SZW1vdmUgU2F2ZWQgTWF0Y2g8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgbWF0Y2ggZnJvbSBLZWVwZXI/PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImFncmVlLWJ0blwiIGNsYXNzPVwibW9kYWwtY2xvc2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLWdyZWVuIGJ0bi1mbGF0XCI+WWVwPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWwtYnRuXCIgY2xhc3M9XCJtb2RhbC1jbG9zZSB3YXZlcy1lZmZlY3Qgd2F2ZXMtZ3JlZW4gYnRuLWZsYXRcIj5Ob3BlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBwYWdlID0gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSlcblxuICAgICAgICBpZiAocGFnZSA9PT0gXCJob21lXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zYXZlLW1hdGNoLWJ0bicpXG4gICAgICAgICAgICBhbGxCdG4uZm9yRWFjaChidG4gPT4ge1xuICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJylcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YWl0VG9hc3QgPSBNLnRvYXN0KHsgaHRtbDogXCJXYWl0IGEgc2VjLi5cIiwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGF3YWl0IGdldE1hdGNoKGlkKVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNhdmVNYXRjaChtYXRjaClcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRvYXN0LmRpc21pc3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChgJHtyZXN9YC5tYXRjaChcIktleSBhbHJlYWR5IGV4aXN0c1wiKSkgTS50b2FzdCh7IGh0bWw6IFwiTWF0Y2ggYWxyZWFkeSBzYXZlZCFcIiwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIE0udG9hc3QoeyBodG1sOiBcIllvdSBjYW4ndCBzYXZlIHdoaWxlIG9mZmxpbmUhXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoeyBodG1sOiBcIk1hdGNoIHNhdmVkIVwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRUb2FzdC5kaXNtaXNzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoeyBodG1sOiBcIlNvbWV0aGluZyB3ZW50IHdyb25nLiBUcnkgYWdhaW4gbGF0ZXIhXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNhdmUtbWF0Y2gtYnRuJylcbiAgICAgICAgICAgIGNvbnN0IGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsJyk7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZXMgPSBNLk1vZGFsLmluaXQoZWxlbXMpO1xuICAgICAgICAgICAgY29uc3QgYWdyZWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWdyZWUtYnRuJyk7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FuY2VsLWJ0bicpO1xuICAgICAgICAgICAgYWxsQnRuLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlcy5vcGVuKClcbiAgICAgICAgICAgICAgICAgICAgYWdyZWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FpdFRvYXN0ID0gTS50b2FzdCh7IGh0bWw6IFwiV2FpdCBhIHNlYy4uXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBkZWxldGVNYXRjaChpZClcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRvYXN0LmRpc21pc3MoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsgaHRtbDogXCJNYXRjaCBkZWxldGVkIVwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlcy5kZXN0cm95KClcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCB1cEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51cGRhdGUtbWF0Y2gtYnRuJylcbiAgICAgICAgICAgIHVwQnRuLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FpdFRvYXN0ID0gTS50b2FzdCh7IGh0bWw6IFwiV2FpdCBhIHNlYy4uXCIsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBhd2FpdCBnZXRNYXRjaChpZClcblxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2guc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaG9tZVRlYW0sIGF3YXlUZWFtIH0gPSBtYXRjaC5zY29yZS5mdWxsVGltZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB1cGRhdGVNYXRjaChtYXRjaClcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRvYXN0LmRpc21pc3MoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNzY29yZS0ke2lkfWApXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZS5pbm5lckhUTUwgPSBg4qyG77iPICR7aG9tZVRlYW0gPT09IG51bGwgPyAwIDogaG9tZVRlYW19OiR7YXdheVRlYW0gPT09IG51bGwgPyAwIDogYXdheVRlYW19IOKsh++4j2BcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFRvYXN0LmRpc21pc3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7IGh0bWw6IFwiU29tZXRoaW5nIHdlbnQgd3JvbmcuIFRyeSBhZ2FpbiBsYXRlciFcIiwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ25leHQtZWxlbScsIE5leHRFbGVtKSIsImltcG9ydCAnLi4vY29tcG9uZW50cy9uZXh0LmpzJ1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuXG5jb25zdCBtYWluID0gYXN5bmMgKCkgPT4ge1xuXG4gICAgY29uc3QgbG9hZENvbnRlbnQgPSBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgICBsZXQgc3RhdGUgPSB7XG4gICAgICAgICAgICBjb250ZW50OiAnJ1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBgL3NyYy9wYWdlcy8ke3BhZ2V9Lmh0bWxgIDogYC9kaXN0L3NyYy9wYWdlcy8ke3BhZ2V9Lmh0bWxgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQodXJsKTtcblxuICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNvbnRlbnQgPSByZXMuZGF0YVxuICAgICAgICAgICAgICAgIGNvbnN0IF9tYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgbnVsbCwgYGluZGV4Lmh0bWwjJHtwYWdlfWApXG5cbiAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBlLnN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBfbWFpbi5pbm5lckhUTUwgPSBzdGF0ZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9tYWluLmlubmVySFRNTCA9IHN0YXRlLmNvbnRlbnRcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgb24gbG9hZCBjb250ZW50IVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTb21ldGhpbmcgd2VudCB3cm9uZyBvbiBsb2FkIGNvbnRlbnQhICR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBhZ2UgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKTtcblxuICAgIGlmIChwYWdlID09PSBcIlwiKSBwYWdlID0gXCJob21lXCI7XG5cbiAgICBhd2FpdCBsb2FkQ29udGVudChwYWdlKTtcblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1haW4iLCJleHBvcnQgY29uc3QgdXJsQmFzZTY0VG9VaW50OEFycmF5ID0gKGJhc2U2NFN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XG4gICAgY29uc3QgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpXG4gICAgICAgIC5yZXBsYWNlKC8tL2csICcrJylcbiAgICAgICAgLnJlcGxhY2UoL18vZywgJy8nKTtcbiAgICBjb25zdCByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBvdXRwdXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhd0RhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgb3V0cHV0QXJyYXlbaV0gPSByYXdEYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXRBcnJheTtcbn0iLCJpbXBvcnQgJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUnXG5pbXBvcnQgJy4uL3NjcmlwdHMvbGlicy9pZGIuanMnXG5pbXBvcnQgJy4uL3NjcmlwdHMvc2VydmljZXMvZGF0YWJhc2UuanMnXG5pbXBvcnQgJy4uL3N0eWxlcy9hcHAuY3NzJ1xuaW1wb3J0ICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvbmF2LmpzJ1xuaW1wb3J0ICcuLi9zY3JpcHRzL2NvbXBvbmVudHMvY29tcGV0aXRpb24uanMnXG5pbXBvcnQgJy4uL3NjcmlwdHMvY29tcG9uZW50cy90ZWFtLmpzJ1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbmV4dC5qcydcbmltcG9ydCBtYWluIGZyb20gJy4vdmlldy9tYWluLmpzJ1xuaW1wb3J0IHt1cmxCYXNlNjRUb1VpbnQ4QXJyYXl9IGZyb20gJy4vdXRpbHMvdXRpbGl0eS5qcydcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgICgoKSA9PiB7XG4gICAgICAgIGlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXJcbiAgICAgICAgICAgICAgICAgICAgLnJlZ2lzdGVyKFwiL3NlcnZpY2Utd29ya2VyLmpzXCIpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VydmljZSBXb3JrZXIgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluKClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIFNlcnZpY2UgV29ya2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgICAgICAgICAgICAgICAgICAucmVnaXN0ZXIoXCIvZGlzdC9zZXJ2aWNlLXdvcmtlci5qc1wiKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRJU1QgU2VydmljZSBXb3JrZXIgc3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGVybWlzc2lvbigpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluKClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIERJU1QgU2VydmljZSBXb3JrZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZXJ2aWNlIFdvcmtlciBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlcXVlc3RQZXJtaXNzaW9uKCkge1xuICAgICAgICAgICAgaWYgKCdOb3RpZmljYXRpb24nIGluIHdpbmRvdykge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBcImRlbmllZFwiKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vdGlmaWNhdGlvbiBibG9ja2VkIGJ5IHVzZXIhXCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVzZXIgY2xvc2VkIHRoZSBwcm9tcHQhXCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKS50aGVuKGZ1bmN0aW9uKHJlZykge1xuXG4gICAgICAgICAgICAgICAgcmVnLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IHVybEJhc2U2NFRvVWludDhBcnJheShcIkJHRWpURWFjYi1vOVBZRUFrMkp6X0hlX0NidVlWbTZxcHZiZFN3aTV1OGo4RnYxR0R6N3BfZFNNT0szS2EwYjNWYWswUHo2eXBkc2FfbnJVTzFNNVJzNFwiKVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWJzY3JpcHRpb24gY29tcGxldGVkIHdpdGggZW5kcG9pbnQ6ICcsIHN1YnNjcmliZS5lbmRwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWJzY3JpcHRpb24gY29tcGxldGVkIHdpdGggcDI1NmRoIGtleTogJywgYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgbmV3IFVpbnQ4QXJyYXkoc3Vic2NyaWJlLmdldEtleSgncDI1NmRoJykpKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3Vic2NyaXB0aW9uIGNvbXBsZXRlZCB3aXRoIGF1dGgga2V5OiAnLCBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBuZXcgVWludDhBcnJheShzdWJzY3JpYmUuZ2V0S2V5KCdhdXRoJykpKSkpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3Vic2NyaXB0aW9uIGNhbm5vdCBiZSBkb25lICcsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3RpZmljYXRpb24gQWxsb3dlZCEnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKClcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=