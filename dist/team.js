!function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={4:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([49,1,0]),n()}({49:function(e,t,n){"use strict";n.r(t);n(7),n(8),n(9),n(5);var r=n(0),a=n.n(r),o=n(1);function c(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var i=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("caches"in window)){e.next=23;break}return e.next=3,caches.match("https://api.football-data.org/v2/teams/".concat(t));case 3:if(!(n=e.sent)){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.next=14,a.a.get("https://api.football-data.org/v2/teams/".concat(t),o.a);case 14:return c=e.sent,e.abrupt("return",c.data);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",null);case 21:e.next=24;break;case 23:console.log("Caches is not supported in this browser");case 24:case"end":return e.stop()}}),e,null,[[11,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),s=n(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){p(o,r,a,c,i,"next",e)}function i(e){p(o,r,a,c,i,"throw",e)}c(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){var t="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return b(e,arguments,S(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function b(e,t,n){return(b=g()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&w(a,n.prototype),a}).apply(null,arguments)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x={content:""},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(p,e);var t,n,r,a,o,c,l,d=(t=p,n=g(),function(){var e,r=S(t);if(n){var a=S(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return m(this,e)});function p(){return v(this,p),d.apply(this,arguments)}return r=p,(a=[{key:"connectedCallback",value:(l=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading(),e.next=3,this.loadTeamData();case 3:this._data=e.sent,this._data?this.render():this.innerHTML='\n                <div class="container" style="height: 100vh; display: flex; justify-content: center; align-items: center;">\n                    <h5 style="text-align: center; font-family: var(--font-tertiary);">Oops.. cannot get team data. Please try again in a minute</h5>\n                </div>\n                ';case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"loading",value:function(){this.innerHTML='\n        <div class="container" style="height: 100vh; display: flex; justify-content: center; align-items: center;">\n            <div class="progress"><div class="indeterminate"></div></div>\n        </div>\n        '}},{key:"loadPlayer",value:function(e){var t=new Date(e.dateOfBirth).toLocaleDateString();return'\n        <li class="player">\n            <div class="collapsible-header player-header">'.concat(e.name,'</div>\n            <div class="collapsible-body player-body">\n                <div class="desc">\n                    <h6>Position</h6>\n                    <p>').concat(e.position,'</p>\n                </div>\n                <div class="desc">\n                    <h6>Nationality</h6>\n                    <p>').concat(e.nationality,'</p>\n                </div>\n                <div class="desc">\n                    <h6>Date of Birth</h6>\n                    <p>').concat(t,"</p>\n                </div>\n            </div>\n        </li>\n        ")}},{key:"loadCoach",value:function(e){var t=new Date(e.dateOfBirth).toLocaleDateString();return'\n        <div class="coach">\n            <div class="coach-name">\n                <p>'.concat(e.name,'</p>\n            </div>\n            <div class="desc">\n                <h6>Nationality</h6>\n                <p>').concat(e.nationality,'</p>\n            </div>\n            <div class="desc">\n                <h6>Date of birth</h6>\n                <p>').concat(t,"</p>\n            </div>\n        </div>\n        ")}},{key:"loadTeamData",value:(c=f(regeneratorRuntime.mark((function e(){var t,n,r,a,o,c,s,l,u,d,p,f,v,h,m,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("id"),e.prev=2,e.next=5,i(n);case 5:if(!(r=e.sent)){e.next=12;break}return a=r.name,o=r.shortName,c=r.founded,s=r.venue,l=r.clubColors,u=r.address,d=r.website,p=r.email,f=r.crestUrl,v=r.squad,h={name:a,shortName:o,founded:c,venue:s,clubColors:l,address:u,website:d,email:p,crestUrl:f},m=v.filter((function(e){return"PLAYER"===e.role})),y=v.filter((function(e){return"COACH"===e.role}))?v.filter((function(e){return"COACH"===e.role}))[0]:null,e.abrupt("return",[h,m,y]);case 12:return e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(){return c.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=u(this._data,3),n=t[0],r=t[1],a=t[2],o=JSON.parse(localStorage.getItem("is-from-keeper"));this.innerHTML='\n        <div class="container wrapper">\n            <h5>'.concat(n.name,'</h5>\n            <div class="team-container">\n                <div class="desc-container">\n                    <div class="desc">\n                        <h6>Short name</h6>\n                        <p>').concat(n.shortName,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>Founded</h6>\n                        <p>').concat(n.founded,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>Venue</h6>\n                        <p>').concat(n.venue,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>Club colors</h6>\n                        <p>').concat(n.clubColors,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>Address</h6>\n                        <p>').concat(n.address,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>Website</h6>\n                        <p>').concat(n.website,'</p>\n                    </div>\n                    <div class="desc">\n                        <h6>E-mail</h6>\n                        <p>').concat(n.email,'</p>\n                    </div>\n                </div>\n                <img class="team-crest" src="').concat(n.crestUrl,'" alt="">\n            </div>\n        \n            <div class="squad-container">\n                <h5>Players</h5>\n                <ul class="collapsible popout">\n                ').concat(r.reduce((function(t,n){return t+e.loadPlayer(n)}),""),'\n                </ul>\n            </div>\n        \n            <div class="coach-container">\n                <h5>Coach</h5>\n                ').concat(a?this.loadCoach(a):'<h5 style="text-align: center; font-family: var(--font-tertiary);">Currently, we have no data about the coach</h5>',"\n            </div>\n\n            ").concat(o?'<div class="fixed-action-btn">\n                <a class="btn-floating btn-large grey darken-4" style="box-shadow: -2px 2px 9px var(--text-primary);" id="delete-save">\n                <i class="fad fa-trash"></i>\n                </a>\n            </div>\n            <div class="tap-target" data-target="delete-save">\n                <div class="tap-target-content">\n                <h5>Delete</h5>\n                <p>Remove your favourite team from Keeper</p>\n                </div>\n            </div>\n                ':'<div class="fixed-action-btn">\n                <a class="btn-floating btn-large grey darken-4" style="box-shadow: -2px 2px 9px var(--text-primary);" id="save">\n                <i class="fad fa-save"></i>\n                </a>\n            </div>\n            <div class="tap-target" data-target="save">\n                <div class="tap-target-content">\n                <h5>Your Keeper</h5>\n                <p>Save your favourite team with Keeper by clicking the button again after you dismissed this info</p>\n                </div>\n            </div>\n            ','\n            <div id="delete-modal" class="modal">\n                <div class="modal-content">\n                    <h4>Remove Saved Team</h4>\n                    <p>Are you sure you want to remove this team from Keeper?</p>\n                </div>\n                <div class="modal-footer">\n                    <button id="agree-btn" class="modal-close waves-effect waves-green btn-flat">Yep</button>\n                    <button id="cancel-btn" class="modal-close waves-effect waves-green btn-flat">Nope</button>\n                </div>\n            </div>\n        </div>\n        ');var c=document.querySelector(".tap-target");M.TapTarget.init(c);var l=M.TapTarget.getInstance(c);if(localStorage.getItem("isTargetOpen")||(l.open(),localStorage.setItem("isTargetOpen",!0)),o){var d=document.querySelector("#delete-save"),p=document.querySelector(".modal"),v=M.Modal.init(p),h=document.querySelector("#agree-btn");document.querySelector("#cancel-btn"),d.addEventListener("click",f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.open(),h.addEventListener("click",f(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("id"),e.next=4,Object(s.b)(n);case 4:M.toast({html:"Team successfully deleted!",classes:"save-toast"}),l.close(),v.destroy(),history.replaceState(x,null,"index.html#keeper"),window.location.reload();case 9:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))))}else document.querySelector("#save").addEventListener("click",f(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),n=t.get("id"),e.next=4,i(n);case 4:return r=e.sent,e.next=7,Object(s.f)(r);case 7:e.sent?M.toast({html:"You already save this poor team!",classes:"save-toast"}):M.toast({html:"".concat(r.name," successfully saved! Check your Keeper"),classes:"save-toast"}),l.close();case 10:case"end":return e.stop()}}),e)}))));var m=document.querySelectorAll(".collapsible");M.Collapsible.init(m);var y=document.querySelectorAll(".player"),b=document.querySelectorAll(".player-body");y[0].classList.toggle("active"),b[0].style.display="block"}}])&&h(r.prototype,a),o&&h(r,o),p}(y(HTMLElement));function O(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){O(o,r,a,c,i,"next",e)}function i(e){O(o,r,a,c,i,"throw",e)}c(void 0)}))}}customElements.define("team-desc-elem",k);var P={content:""},j=function(){var e=R(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=R(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/dist/src/pages/team.html",e.prev=1,e.next=4,a.a.get("/dist/src/pages/team.html");case 4:200===(n=e.sent).status?(P.content=n.data,r=document.querySelector("#main-content"),history.pushState(P,null,"team-detail.html?id=".concat(t)),window.onpopstate=function(e){e.state&&(P=e.state,r.innerHTML=P.content)},r.innerHTML=P.content):console.error("Something went wrong on load content!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Something went wrong on load content! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n=new URLSearchParams(window.location.search),""!==(r=n.get("id"))&&null!==r||(r="1"),e.next=6,t(r);case 6:(o=document.querySelector(".sidenav-back"))&&o.addEventListener("click",(function(){if(window.location.pathname.match("team-detail.html")){var e=localStorage.getItem("code");JSON.parse(localStorage.getItem("is-from-keeper"))?history.replaceState(P,null,"index.html#keeper"):history.replaceState(P,null,"competition-detail.html?code=".concat(e)),window.location.reload()}}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",(function(){"serviceWorker"in navigator?navigator.serviceWorker.register("/service-worker.js").then((function(){console.log("Service Worker successfully registered"),j()})).catch((function(){console.log("Failed to register Service Worker")})):console.log("Service Worker isn't supported in this browser.")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvc2VydmljZXMvdGVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL3RlYW0tZGVzYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy92aWV3L3RlYW0tZGV0YWlsLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiNCIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiZ2V0VGVhbSIsInRlYW1faWQiLCJjYWNoZXMiLCJtYXRjaCIsInJlcyIsImpzb24iLCJheGlvcyIsImNvbmZpZyIsImNvbnNvbGUiLCJsb2ciLCJzdGF0ZSIsImNvbnRlbnQiLCJUZWFtRGVzY0VsZW0iLCJ0aGlzIiwibG9hZGluZyIsImxvYWRUZWFtRGF0YSIsIl9kYXRhIiwicmVuZGVyIiwiaW5uZXJIVE1MIiwicGxheWVyIiwiZG9iIiwiRGF0ZSIsImRhdGVPZkJpcnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicG9zaXRpb24iLCJuYXRpb25hbGl0eSIsImNvYWNoIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJpZCIsInRlYW0iLCJzaG9ydE5hbWUiLCJmb3VuZGVkIiwidmVudWUiLCJjbHViQ29sb3JzIiwiYWRkcmVzcyIsIndlYnNpdGUiLCJlbWFpbCIsImNyZXN0VXJsIiwic3F1YWQiLCJ0ZWFtSW5mbyIsInBsYXllcnMiLCJmaWx0ZXIiLCJwZXJzb24iLCJyb2xlIiwiaXRlbSIsImlzRnJvbVNhdmVkIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInJlZHVjZSIsImh0bWwiLCJsb2FkUGxheWVyIiwibG9hZENvYWNoIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiTSIsIlRhcFRhcmdldCIsImluaXQiLCJpbmZvIiwiZ2V0SW5zdGFuY2UiLCJvcGVuIiwic2V0SXRlbSIsImRlbCIsImVsZW1zIiwiaW5zdGFuY2VzIiwiTW9kYWwiLCJhZ3JlZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWxldGVUZWFtIiwidG9hc3QiLCJjbGFzc2VzIiwiY2xvc2UiLCJkZXN0cm95IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInJlbG9hZCIsInNhdmVUZWFtIiwicXVlcnlTZWxlY3RvckFsbCIsIkNvbGxhcHNpYmxlIiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN0eWxlIiwiZGlzcGxheSIsIkhUTUxFbGVtZW50IiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJsb2FkQ29udGVudCIsInN0YXR1cyIsIl9tYWluIiwicHVzaFN0YXRlIiwib25wb3BzdGF0ZSIsImUiLCJlcnJvciIsImJhY2siLCJwYXRobmFtZSIsImNvZGUiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFBSUMsRUFBUUgsRUFBZUUsR0FDRyxJQUEzQlgsRUFBZ0JZLEtBQWNGLEdBQVksR0FFM0NBLElBQ0ZMLEVBQWdCUSxPQUFPcEIsSUFBSyxHQUM1QmUsRUFBU00sRUFBb0JBLEVBQW9CQyxFQUFJTixFQUFlLEtBSXRFLE9BQU9ELEVBSVIsSUFBSVEsRUFBbUIsR0FLbkJoQixFQUFr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RXZGLFFBQ0ZBLEVBQVF1RixFQUFFdkYsTUFDVm9GLEVBQU01RSxVQUFZUixFQUFNQyxVQUtoQ21GLEVBQU01RSxVQUFZUixFQUFNQyxTQUd4QkgsUUFBUTBGLE1BQU0seUNBdkJOLGdEQTBCWjFGLFFBQVEwRixNQUFSLHVEQTFCWSx5REFGWCxzREFnQ0h2RSxFQUFTLElBQUlDLGdCQUFnQi9CLE9BQU9nQyxTQUFTQyxRQUd4QyxNQUZQQyxFQUFLSixFQUFPL0MsSUFBSSxRQUVJLE9BQVBtRCxJQUFhQSxFQUFLLEtBbkMxQixTQXFDSDZELEVBQVk3RCxHQXJDVCxRQXVDSG9FLEVBQU96QyxTQUFTQyxjQUFjLG1CQUMxQndDLEVBQUszQixpQkFBaUIsU0FBUyxXQUNyQyxHQUFJM0UsT0FBT2dDLFNBQVN1RSxTQUFTakcsTUFBTSxvQkFBcUIsQ0FDcEQsSUFBTWtHLEVBQU9sRCxhQUFhQyxRQUFRLFFBQ2RILEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsbUJBRWhEMEIsUUFBUUMsYUFBYXJFLEVBQU8sS0FBNUIscUJBRUFvRSxRQUFRQyxhQUFhckUsRUFBTyxLQUE1Qix1Q0FBa0UyRixJQUd0RXhHLE9BQU9nQyxTQUFTbUQsYUFsRGYsMkNBQUgscURBdURWdEIsU0FBU2MsaUJBQWlCLG9CQUFvQixXQUN0QyxrQkFBbUI4QixVQUVmQSxVQUFVQyxjQUNMQyxTQUFTLHNCQUNUQyxNQUFLLFdBQ0ZqRyxRQUFRQyxJQUFJLDBDQUNadUIsT0FKUixPQU1XLFdBQ0h4QixRQUFRQyxJQUFJLHdDQWV4QkQsUUFBUUMsSUFBSSIsImZpbGUiOiJ0ZWFtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQ0OiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs0OSwxLDBdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy5qcydcblxuZXhwb3J0IGNvbnN0IGdldFRlYW0gPSBhc3luYyAodGVhbV9pZCkgPT4ge1xuICAgIGlmIChcImNhY2hlc1wiIGluIHdpbmRvdykge1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBjYWNoZXMubWF0Y2goYGh0dHBzOi8vYXBpLmZvb3RiYWxsLWRhdGEub3JnL3YyL3RlYW1zLyR7dGVhbV9pZH1gKVxuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5mb290YmFsbC1kYXRhLm9yZy92Mi90ZWFtcy8ke3RlYW1faWR9YCwgY29uZmlnKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYWNoZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICAgIH1cbn0iLCJpbXBvcnQgJy4uL3ZpZXcvbWF0ZXJpYWxpemUubWluLmpzJ1xuaW1wb3J0IHsgZ2V0VGVhbSB9IGZyb20gXCIuLi9zZXJ2aWNlcy90ZWFtXCJcbmltcG9ydCB7IHNhdmVUZWFtLCBkZWxldGVUZWFtIH0gZnJvbSAnLi4vc2VydmljZXMvZGF0YWJhc2UuanMnXG5cbmxldCBzdGF0ZSA9IHtcbiAgICBjb250ZW50OiAnJ1xufVxuXG5jbGFzcyBUZWFtRGVzY0VsZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nKClcblxuICAgICAgICB0aGlzLl9kYXRhID0gYXdhaXQgdGhpcy5sb2FkVGVhbURhdGEoKVxuICAgICAgICBpZiAodGhpcy5fZGF0YSkgdGhpcy5yZW5kZXIoKVxuICAgICAgICBlbHNlIHRoaXMuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIiBzdHlsZT1cImhlaWdodDogMTAwdmg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBhbGlnbi1pdGVtczogY2VudGVyO1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDUgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LXRlcnRpYXJ5KTtcIj5Pb3BzLi4gY2Fubm90IGdldCB0ZWFtIGRhdGEuIFBsZWFzZSB0cnkgYWdhaW4gaW4gYSBtaW51dGU8L2g1PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGBcbiAgICB9XG5cbiAgICBsb2FkaW5nKCkge1xuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiIHN0eWxlPVwiaGVpZ2h0OiAxMDB2aDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj48ZGl2IGNsYXNzPVwiaW5kZXRlcm1pbmF0ZVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgIH1cblxuICAgIGxvYWRQbGF5ZXIocGxheWVyKSB7XG5cbiAgICAgICAgY29uc3QgZG9iID0gbmV3IERhdGUocGxheWVyLmRhdGVPZkJpcnRoKS50b0xvY2FsZURhdGVTdHJpbmcoKVxuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgIDxsaSBjbGFzcz1cInBsYXllclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbGxhcHNpYmxlLWhlYWRlciBwbGF5ZXItaGVhZGVyXCI+JHtwbGF5ZXIubmFtZX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xsYXBzaWJsZS1ib2R5IHBsYXllci1ib2R5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg2PlBvc2l0aW9uPC9oNj5cbiAgICAgICAgICAgICAgICAgICAgPHA+JHtwbGF5ZXIucG9zaXRpb259PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNj5OYXRpb25hbGl0eTwvaDY+XG4gICAgICAgICAgICAgICAgICAgIDxwPiR7cGxheWVyLm5hdGlvbmFsaXR5fTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDY+RGF0ZSBvZiBCaXJ0aDwvaDY+XG4gICAgICAgICAgICAgICAgICAgIDxwPiR7ZG9ifTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgbG9hZENvYWNoKGNvYWNoKSB7XG5cbiAgICAgICAgY29uc3QgZG9iID0gbmV3IERhdGUoY29hY2guZGF0ZU9mQmlydGgpLnRvTG9jYWxlRGF0ZVN0cmluZygpXG5cbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvYWNoXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29hY2gtbmFtZVwiPlxuICAgICAgICAgICAgICAgIDxwPiR7Y29hY2gubmFtZX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjXCI+XG4gICAgICAgICAgICAgICAgPGg2Pk5hdGlvbmFsaXR5PC9oNj5cbiAgICAgICAgICAgICAgICA8cD4ke2NvYWNoLm5hdGlvbmFsaXR5fTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICA8aDY+RGF0ZSBvZiBiaXJ0aDwvaDY+XG4gICAgICAgICAgICAgICAgPHA+JHtkb2J9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFRlYW1EYXRhKCkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgICBjb25zdCBpZCA9IHBhcmFtcy5nZXQoJ2lkJylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRlYW0gPSBhd2FpdCBnZXRUZWFtKGlkKVxuXG4gICAgICAgICAgICBpZiAodGVhbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2hvcnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBmb3VuZGVkLFxuICAgICAgICAgICAgICAgICAgICB2ZW51ZSxcbiAgICAgICAgICAgICAgICAgICAgY2x1YkNvbG9ycyxcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGNyZXN0VXJsLFxuICAgICAgICAgICAgICAgICAgICBzcXVhZCB9ID0gdGVhbVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVhbUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNob3J0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZm91bmRlZCxcbiAgICAgICAgICAgICAgICAgICAgdmVudWUsXG4gICAgICAgICAgICAgICAgICAgIGNsdWJDb2xvcnMsXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHdlYnNpdGUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBjcmVzdFVybFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllcnMgPSBzcXVhZC5maWx0ZXIocGVyc29uID0+IHBlcnNvbi5yb2xlID09PSBcIlBMQVlFUlwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvYWNoID0gc3F1YWQuZmlsdGVyKHBlcnNvbiA9PiBwZXJzb24ucm9sZSA9PT0gXCJDT0FDSFwiKSA/IHNxdWFkLmZpbHRlcihwZXJzb24gPT4gcGVyc29uLnJvbGUgPT09IFwiQ09BQ0hcIilbMF0gOiBudWxsXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gW3RlYW1JbmZvLCBwbGF5ZXJzLCBjb2FjaF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0ZWFtXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGVyclxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBbaXRlbSwgcGxheWVyLCBjb2FjaF0gPSB0aGlzLl9kYXRhXG5cbiAgICAgICAgY29uc3QgaXNGcm9tU2F2ZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpcy1mcm9tLWtlZXBlcicpKVxuICAgICAgICBcblxuICAgICAgICB0aGlzLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lciB3cmFwcGVyXCI+XG4gICAgICAgICAgICA8aDU+JHtpdGVtLm5hbWV9PC9oNT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZWFtLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg2PlNob3J0IG5hbWU8L2g2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtpdGVtLnNob3J0TmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg2PkZvdW5kZWQ8L2g2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtpdGVtLmZvdW5kZWR9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5WZW51ZTwvaDY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2l0ZW0udmVudWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5DbHViIGNvbG9yczwvaDY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2l0ZW0uY2x1YkNvbG9yc308L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg2PkFkZHJlc3M8L2g2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtpdGVtLmFkZHJlc3N9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNj5XZWJzaXRlPC9oNj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7aXRlbS53ZWJzaXRlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDY+RS1tYWlsPC9oNj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7aXRlbS5lbWFpbH08L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ0ZWFtLWNyZXN0XCIgc3JjPVwiJHtpdGVtLmNyZXN0VXJsfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNxdWFkLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxoNT5QbGF5ZXJzPC9oNT5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJjb2xsYXBzaWJsZSBwb3BvdXRcIj5cbiAgICAgICAgICAgICAgICAke3BsYXllci5yZWR1Y2UoKGh0bWwsIHBsYXllcikgPT4gaHRtbCArIHRoaXMubG9hZFBsYXllcihwbGF5ZXIpLCAnJyl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2FjaC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8aDU+Q29hY2g8L2g1PlxuICAgICAgICAgICAgICAgICR7Y29hY2ggPyB0aGlzLmxvYWRDb2FjaChjb2FjaCkgOiBgPGg1IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBmb250LWZhbWlseTogdmFyKC0tZm9udC10ZXJ0aWFyeSk7XCI+Q3VycmVudGx5LCB3ZSBoYXZlIG5vIGRhdGEgYWJvdXQgdGhlIGNvYWNoPC9oNT5gfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICR7aXNGcm9tU2F2ZWQgP1xuICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiZml4ZWQtYWN0aW9uLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLWZsb2F0aW5nIGJ0bi1sYXJnZSBncmV5IGRhcmtlbi00XCIgc3R5bGU9XCJib3gtc2hhZG93OiAtMnB4IDJweCA5cHggdmFyKC0tdGV4dC1wcmltYXJ5KTtcIiBpZD1cImRlbGV0ZS1zYXZlXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWQgZmEtdHJhc2hcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFwLXRhcmdldFwiIGRhdGEtdGFyZ2V0PVwiZGVsZXRlLXNhdmVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFwLXRhcmdldC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGg1PkRlbGV0ZTwvaDU+XG4gICAgICAgICAgICAgICAgPHA+UmVtb3ZlIHlvdXIgZmF2b3VyaXRlIHRlYW0gZnJvbSBLZWVwZXI8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwiZml4ZWQtYWN0aW9uLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLWZsb2F0aW5nIGJ0bi1sYXJnZSBncmV5IGRhcmtlbi00XCIgc3R5bGU9XCJib3gtc2hhZG93OiAtMnB4IDJweCA5cHggdmFyKC0tdGV4dC1wcmltYXJ5KTtcIiBpZD1cInNhdmVcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhZCBmYS1zYXZlXCI+PC9pPlxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhcC10YXJnZXRcIiBkYXRhLXRhcmdldD1cInNhdmVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFwLXRhcmdldC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGg1PllvdXIgS2VlcGVyPC9oNT5cbiAgICAgICAgICAgICAgICA8cD5TYXZlIHlvdXIgZmF2b3VyaXRlIHRlYW0gd2l0aCBLZWVwZXIgYnkgY2xpY2tpbmcgdGhlIGJ1dHRvbiBhZ2FpbiBhZnRlciB5b3UgZGlzbWlzc2VkIHRoaXMgaW5mbzwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJkZWxldGUtbW9kYWxcIiBjbGFzcz1cIm1vZGFsXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0PlJlbW92ZSBTYXZlZCBUZWFtPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIHRlYW0gZnJvbSBLZWVwZXI/PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImFncmVlLWJ0blwiIGNsYXNzPVwibW9kYWwtY2xvc2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLWdyZWVuIGJ0bi1mbGF0XCI+WWVwPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWwtYnRuXCIgY2xhc3M9XCJtb2RhbC1jbG9zZSB3YXZlcy1lZmZlY3Qgd2F2ZXMtZ3JlZW4gYnRuLWZsYXRcIj5Ob3BlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFwLXRhcmdldCcpXG4gICAgICAgIE0uVGFwVGFyZ2V0LmluaXQodGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaW5mbyA9IE0uVGFwVGFyZ2V0LmdldEluc3RhbmNlKHRhcmdldCk7XG4gICAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzVGFyZ2V0T3BlbicpKSB7XG4gICAgICAgICAgICBpbmZvLm9wZW4oKVxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzVGFyZ2V0T3BlbicsIHRydWUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGcm9tU2F2ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZWxldGUtc2F2ZScpXG4gICAgICAgICAgICBjb25zdCBlbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gTS5Nb2RhbC5pbml0KGVsZW1zKTtcbiAgICAgICAgICAgIGNvbnN0IGFncmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FncmVlLWJ0bicpO1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbmNlbC1idG4nKTtcbiAgICAgICAgICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZXMub3BlbigpXG4gICAgICAgICAgICAgICAgYWdyZWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyYW1zLmdldCgnaWQnKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVUZWFtKGlkKVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsgaHRtbDogYFRlYW0gc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQhYCwgY2xhc3NlczogXCJzYXZlLXRvYXN0XCIgfSlcbiAgICAgICAgICAgICAgICAgICAgaW5mby5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlcy5kZXN0cm95KClcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIG51bGwsIGBpbmRleC5odG1sI2tlZXBlcmApXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhdmUnKVxuICAgICAgICAgICAgZmFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBwYXJhbXMuZ2V0KCdpZCcpXG4gICAgICAgICAgICAgICAgY29uc3QgdGVhbSA9IGF3YWl0IGdldFRlYW0oaWQpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc2F2ZVRlYW0odGVhbSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocmVzKSBNLnRvYXN0KHsgaHRtbDogXCJZb3UgYWxyZWFkeSBzYXZlIHRoaXMgcG9vciB0ZWFtIVwiLCBjbGFzc2VzOiBcInNhdmUtdG9hc3RcIiB9KVxuICAgICAgICAgICAgICAgIGVsc2UgTS50b2FzdCh7IGh0bWw6IGAke3RlYW0ubmFtZX0gc3VjY2Vzc2Z1bGx5IHNhdmVkISBDaGVjayB5b3VyIEtlZXBlcmAsIGNsYXNzZXM6IFwic2F2ZS10b2FzdFwiIH0pXG4gICAgICAgICAgICAgICAgaW5mby5jbG9zZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cblxuXG5cbiAgICAgICAgY29uc3QgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sbGFwc2libGUnKTtcbiAgICAgICAgTS5Db2xsYXBzaWJsZS5pbml0KGVsZW1zKTtcblxuICAgICAgICBjb25zdCBwbGF5ZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXllcicpXG4gICAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheWVyLWJvZHknKVxuXG4gICAgICAgIHBsYXllcnNbMF0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcbiAgICAgICAgYm9keVswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xuXG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3RlYW0tZGVzYy1lbGVtJywgVGVhbURlc2NFbGVtKSIsImltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZSdcbmltcG9ydCAnLi4vLi4vc3R5bGVzL2FwcC5jc3MnXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvbmF2LmpzJ1xuaW1wb3J0ICcuLi9jb21wb25lbnRzL3RlYW0tZGVzYy5qcydcbmltcG9ydCAnLi4vdmlldy9tYXRlcmlhbGl6ZS5taW4uanMnXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5cbmxldCBzdGF0ZSA9IHtcbiAgICBjb250ZW50OiAnJ1xufVxuXG5jb25zdCB0ZWFtID0gYXN5bmMgKCkgPT4ge1xuXG4gICAgY29uc3QgbG9hZENvbnRlbnQgPSBhc3luYyAoaWQpID0+IHtcblxuICAgICAgICBjb25zdCB1cmwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiID8gYC9zcmMvcGFnZXMvdGVhbS5odG1sYCA6IGAvZGlzdC9zcmMvcGFnZXMvdGVhbS5odG1sYFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7XG5cbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5jb250ZW50ID0gcmVzLmRhdGFcbiAgICAgICAgICAgICAgICBjb25zdCBfbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi1jb250ZW50XCIpXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGUsIG51bGwsIGB0ZWFtLWRldGFpbC5odG1sP2lkPSR7aWR9YClcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gZS5zdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgX21haW4uaW5uZXJIVE1MID0gc3RhdGUuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfbWFpbi5pbm5lckhUTUwgPSBzdGF0ZS5jb250ZW50XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNvbWV0aGluZyB3ZW50IHdyb25nIG9uIGxvYWQgY29udGVudCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU29tZXRoaW5nIHdlbnQgd3Jvbmcgb24gbG9hZCBjb250ZW50ISAke2Vycn1gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgbGV0IGlkID0gcGFyYW1zLmdldCgnaWQnKVxuXG4gICAgaWYgKGlkID09PSBcIlwiIHx8IGlkID09PSBudWxsKSBpZCA9IFwiMVwiO1xuXG4gICAgYXdhaXQgbG9hZENvbnRlbnQoaWQpO1xuXG4gICAgY29uc3QgYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlbmF2LWJhY2snKVxuICAgIGlmIChiYWNrKSBiYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKCd0ZWFtLWRldGFpbC5odG1sJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY29kZScpXG4gICAgICAgICAgICBjb25zdCBpc0Zyb21TYXZlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzLWZyb20ta2VlcGVyJykpXG4gICAgICAgICAgICBpZiAoaXNGcm9tU2F2ZWQpIHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgbnVsbCwgYGluZGV4Lmh0bWwja2VlcGVyYClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIG51bGwsIGBjb21wZXRpdGlvbi1kZXRhaWwuaHRtbD9jb2RlPSR7Y29kZX1gKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiAoKCkgPT4ge1xuICAgIGlmIChcInNlcnZpY2VXb3JrZXJcIiBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgLy8gaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXG4gICAgICAgICAgICAgICAgLnJlZ2lzdGVyKFwiL3NlcnZpY2Utd29ya2VyLmpzXCIpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNlcnZpY2UgV29ya2VyIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICB0ZWFtKClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIFNlcnZpY2UgV29ya2VyXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgLy8gICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyXG4gICAgICAgIC8vICAgICAgICAgLnJlZ2lzdGVyKFwiL2Rpc3Qvc2VydmljZS13b3JrZXIuanNcIilcbiAgICAgICAgLy8gICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRElTVCBTZXJ2aWNlIFdvcmtlciBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZFwiKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGVhbSgpXG4gICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byByZWdpc3RlciBESVNUIFNlcnZpY2UgV29ya2VyXCIpO1xuICAgICAgICAvLyAgICAgICAgIH0pO1xuICAgICAgICAvLyB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZXJ2aWNlIFdvcmtlciBpc24ndCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICB9XG59KSgpKSAiXSwic291cmNlUm9vdCI6IiJ9